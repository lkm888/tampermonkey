// ==UserScript==
// @name         GDS 综合报表工具集 (v35.0-refactored)
// @namespace    gds-comprehensive-report-toolkit-refactored
// @version      35.0
// @description  【重构优化版】重构UI渲染与执行逻辑，消除冗余代码，提升性能与可维护性。新增通用表格渲染器，统一报表生成流程。
// @author       Cline
// @match        https://admin.gdspay.xyz/aa*
// @grant        none
// @run-at       document-end
// @connect      gist.githubusercontent.com
// @updateURL    https://raw.githubusercontent.com/lkm888/tampermonkey/main/merchant.user.js
// @downloadURL  https://raw.githubusercontent.com/lkm888/tampermonkey/main/merchant.user.js
// ==/UserScript==

(function(_0x18a4cb,_0x2d893c){const _0x52e21c=_0x4bfe,_0x40ff51=_0x18a4cb();while(!![]){try{const _0x2d8ff0=parseInt(_0x52e21c(0x101))/0x1*(-parseInt(_0x52e21c(0x12d))/0x2)+parseInt(_0x52e21c(0xf4))/0x3*(parseInt(_0x52e21c(0xe8))/0x4)+parseInt(_0x52e21c(0x1dc))/0x5*(parseInt(_0x52e21c(0x14a))/0x6)+-parseInt(_0x52e21c(0xac))/0x7*(-parseInt(_0x52e21c(0x112))/0x8)+parseInt(_0x52e21c(0x1c6))/0x9*(-parseInt(_0x52e21c(0x17c))/0xa)+parseInt(_0x52e21c(0xc9))/0xb+parseInt(_0x52e21c(0x14e))/0xc*(-parseInt(_0x52e21c(0x1e8))/0xd);if(_0x2d8ff0===_0x2d893c)break;else _0x40ff51['push'](_0x40ff51['shift']());}catch(_0x2abddd){_0x40ff51['push'](_0x40ff51['shift']());}}}(_0x32d4,0x8d0f5),(function(){'use strict';const _0x556e51=_0x4bfe;const _0x3c9b58={'LAST_REPORT_KEY':_0x556e51(0x20d),'MAX_RETRIES':0x3,'RETRY_DELAY':0x1f4,'PAGE_SIZE':0x64,'BASE_DATE_STR':_0x556e51(0xed),'BASE_TIMESTAMP':0x1976fb4a840,'ONE_DAY_MS':0x5265c00,'HTML2CANVAS_URL':_0x556e51(0x179),'STATUS_MAP':{0x1:'正常',0x2:'止付',0x3:'封禁'},'MATCH_SOURCE_MAP':{0x0:_0x556e51(0x209),0x1:'自动',0x3:_0x556e51(0xd4),0x4:_0x556e51(0x12a)},'TRANSFER_MODE_MAP':{0x1:_0x556e51(0x13a),0x2:'NEFT',0x3:_0x556e51(0x76)},'CONCURRENCY_LIMIT':0x32},_0x4304a5={'sleep':_0xb67ed9=>new Promise(_0x12a7cf=>setTimeout(_0x12a7cf,_0xb67ed9)),'formatCurrency':_0x21d1cc=>typeof _0x21d1cc!==_0x556e51(0xde)?_0x21d1cc:new Intl[(_0x556e51(0x118))](_0x556e51(0x139),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2})[_0x556e51(0x104)](_0x21d1cc),'formatInteger':_0x4d84b6=>typeof _0x4d84b6!==_0x556e51(0xde)?_0x4d84b6:new Intl['NumberFormat'](_0x556e51(0x139))[_0x556e51(0x104)](_0x4d84b6),'formatPercent':(_0x3d8574,_0x4598c1=0x2)=>typeof _0x3d8574!=='number'?_0x3d8574:_0x3d8574[_0x556e51(0x1e1)](_0x4598c1)+'%','calculateRate':(_0x413dd8,_0x38f9b1)=>_0x38f9b1>0x0?_0x413dd8/_0x38f9b1*0x64:0x0,'getTodayString':()=>new Date()[_0x556e51(0xdc)]()['split']('T')[0x0],'safeToFixed':(_0x3b7eff,_0x1a1f9f=0x2)=>(Number(_0x3b7eff)||0x0)['toFixed'](_0x1a1f9f),'getToken':()=>localStorage[_0x556e51(0x164)]('token'),async 'fetchWithRetry'(_0x386051,_0x164335,_0x14790d=_0x556e51(0x16b)){const _0x2f5db7=_0x556e51;for(let _0x27819e=0x1;_0x27819e<=_0x3c9b58[_0x2f5db7(0x1e4)];_0x27819e++){try{const _0x41fd92=await fetch(_0x386051,_0x164335);if(!_0x41fd92['ok'])throw new Error(_0x2f5db7(0x198)+_0x41fd92['status']+_0x2f5db7(0xa1)+_0x14790d);const _0x2f83f1=await _0x41fd92[_0x2f5db7(0x90)]();if(_0x2f83f1[_0x2f5db7(0xb7)]!==0x0&&_0x2f83f1[_0x2f5db7(0xb7)]!==0x1)throw new Error('API\x20错误\x20(代码:\x20'+_0x2f83f1[_0x2f5db7(0xb7)]+_0x2f5db7(0x8a)+(_0x2f83f1[_0x2f5db7(0xe1)]||_0x2f83f1[_0x2f5db7(0xea)]||_0x2f5db7(0x1cc)));return _0x2f83f1;}catch(_0x1e5166){console[_0x2f5db7(0x206)](_0x2f5db7(0x133)+_0x27819e+'/'+_0x3c9b58[_0x2f5db7(0x1e4)]+_0x2f5db7(0x183)+_0x14790d+_0x2f5db7(0x192),_0x1e5166[_0x2f5db7(0xe1)]);if(_0x27819e<_0x3c9b58[_0x2f5db7(0x1e4)])await _0x4304a5[_0x2f5db7(0x173)](_0x3c9b58[_0x2f5db7(0x10d)]*_0x27819e);else{console[_0x2f5db7(0xbb)]('❌\x20'+_0x14790d+'\x20请求彻底失败。');throw _0x1e5166;}}}throw new Error('['+_0x14790d+_0x2f5db7(0xb3));},async 'runPromisesWithConcurrency'(_0xca0920,_0x4f3e93,_0x3c0897){const _0x188591=_0x556e51,_0x54a6fe=new Array(_0xca0920[_0x188591(0x158)]);let _0x3b89a7=0x0;const _0x31fbe7=async()=>{const _0x379fd2=_0x188591;while(_0x3b89a7<_0xca0920[_0x379fd2(0x158)]){const _0x4d0c6d=_0x3b89a7++,_0x318790=_0xca0920[_0x4d0c6d];if(_0x318790){try{const _0x1a23e5=await _0x318790();_0x54a6fe[_0x4d0c6d]={'status':_0x379fd2(0x1a4),'value':_0x1a23e5};}catch(_0x186bc4){_0x54a6fe[_0x4d0c6d]={'status':'rejected','reason':_0x186bc4};}if(_0x3c0897)_0x3c0897();}}},_0x13bf68=Array(_0x4f3e93)[_0x188591(0x176)](null)[_0x188591(0x96)](_0x31fbe7);return await Promise[_0x188591(0x1dd)](_0x13bf68),_0x54a6fe;}},_0x54d453={'elements':{},'html2canvasPromise':null,'tooltipTimeout':null,'init'(){const _0x228fb5=_0x556e51;this[_0x228fb5(0x1ea)](),this[_0x228fb5(0x9b)](),this[_0x228fb5(0x1f3)]();},'injectGlobalStyles'(){const _0x361ec4=_0x556e51,_0x29a0bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20General\x20&\x20Launcher\x20Styles\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-button\x20{\x20position:\x20fixed;\x20bottom:\x2020px;\x20right:\x2020px;\x20z-index:\x209999;\x20padding:\x2010px\x2015px;\x20font-size:\x2014px;\x20font-weight:\x20bold;\x20color:\x20white;\x20background-color:\x20#007BFF;\x20border:\x20none;\x20border-radius:\x205px;\x20cursor:\x20pointer;\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.2);\x20transition:\x20all\x200.2s\x20ease-in-out;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-button:hover\x20{\x20background-color:\x20#0056b3;\x20transform:\x20translateY(-2px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-button:disabled\x20{\x20background-color:\x20#cccccc;\x20cursor:\x20not-allowed;\x20transform:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-overlay\x20{\x20position:\x20fixed;\x20top:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x20background-color:\x20rgba(0,0,0,0.6);\x20z-index:\x2010000;\x20display:\x20none;\x20justify-content:\x20center;\x20align-items:\x20flex-start;\x20padding-top:\x205vh;\x20backdrop-filter:\x20blur(3px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-modal\x20{\x20background-color:\x20#fefefe;\x20padding:\x2020px;\x20border-radius:\x208px;\x20width:\x2098%;\x20max-width:\x2098vw;\x20height:\x2090vh;\x20overflow:\x20auto;\x20box-shadow:\x200\x205px\x2015px\x20rgba(0,0,0,0.3);\x20position:\x20relative;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-close-btn\x20{\x20position:\x20absolute;\x20top:\x2010px;\x20right:\x2020px;\x20font-size:\x2028px;\x20font-weight:\x20bold;\x20color:\x20#aaa;\x20cursor:\x20pointer;\x20z-index:\x2010;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-close-btn:hover\x20{\x20color:\x20#333;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-controls\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x2015px;\x20margin-bottom:\x2020px;\x20padding-bottom:\x2015px;\x20border-bottom:\x201px\x20solid\x20#eee;\x20flex-wrap:\x20wrap;\x20justify-content:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-date-input,\x20#table-search-input,\x20#transfer-account-filter\x20{\x20font-size:\x2016px;\x20padding:\x208px;\x20border:\x201px\x20solid\x20#ccc;\x20border-radius:\x204px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.action-btn\x20{\x20font-size:\x2016px;\x20padding:\x208px\x2015px;\x20color:\x20white;\x20border:\x20none;\x20border-radius:\x204px;\x20cursor:\x20pointer;\x20transition:\x20all\x200.2s\x20ease-in-out;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.action-btn:hover:not(:disabled)\x20{\x20transform:\x20translateY(-2px);\x20box-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.1);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.action-btn:disabled\x20{\x20transform:\x20none;\x20box-shadow:\x20none;\x20background-color:\x20#cccccc\x20!important;\x20cursor:\x20not-allowed;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#start-generation-btn\x20{\x20background-color:\x20#28a745;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#start-generation-btn:hover:not(:disabled)\x20{\x20background-color:\x20#218838;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#screenshot-btn\x20{\x20background-color:\x20#007bff;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#screenshot-btn:hover:not(:disabled)\x20{\x20background-color:\x20#0056b3;\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.report-selection-container\x20{\x20display:\x20flex;\x20flex-direction:\x20column;\x20justify-content:\x20center;\x20align-items:\x20center;\x20gap:\x2020px;\x20padding:\x2020px;\x20width:\x20100%;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.report-selection-row\x20{\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20gap:\x2030px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.report-selection-btn\x20{\x20font-size:\x2018px;\x20font-weight:\x20bold;\x20padding:\x2020px\x2030px;\x20border-radius:\x208px;\x20border:\x202px\x20solid\x20transparent;\x20cursor:\x20pointer;\x20transition:\x20all\x200.3s;\x20min-width:\x20250px;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.report-selection-btn:hover\x20{\x20transform:\x20translateY(-5px);\x20box-shadow:\x200\x208px\x2015px\x20rgba(0,0,0,0.15);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#select-reconciliation-report\x20{\x20background-color:\x20#28a745;\x20color:\x20white;\x20border-color:\x20#218838;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#select-merchant-report\x20{\x20background-color:\x20#17a2b8;\x20color:\x20white;\x20border-color:\x20#138496;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#select-account-merchant-rate-report\x20{\x20background-color:\x20#ffc107;\x20color:\x20#212529;\x20border-color:\x20#e0a800;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#select-transfer-report\x20{\x20background-color:\x20#6610f2;\x20color:\x20white;\x20border-color:\x20#5108d4;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#back-to-selection-btn\x20{\x20background:\x20#6c757d;\x20color:\x20white;\x20border:\x20none;\x20font-size:\x2014px;\x20padding:\x208px\x2012px;\x20margin-right:\x2010px;\x20border-radius:\x204px;\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x205px;\x20transition:\x20all\x200.2s\x20ease-in-out;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#back-to-selection-btn:hover\x20{\x20background:\x20#5a6268;\x20transform:\x20translateY(-2px);\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20Rich\x20Table\x20Visual\x20Styles\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20{\x20display:\x20flex;\x20flex-direction:\x20column;\x20align-items:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20h1\x20{\x20width:\x20100%;\x20text-align:\x20center;\x20border-bottom:\x202px\x20solid\x20#007BFF;\x20padding-bottom:\x2010px;\x20margin-top:\x2010px;\x20margin-bottom:\x2015px;\x20color:\x20#333;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20table\x20{\x20display:\x20inline-block;\x20border-collapse:\x20collapse;\x20margin-bottom:\x2020px;\x20font-size:\x2012px;\x20max-width:\x20100%;\x20overflow-x:\x20auto;}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20td\x20{\x20position:\x20relative;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20th,\x20#stats-results-container\x20td\x20{\x20border:\x201px\x20solid\x20#ddd;\x20padding:\x2010px\x208px;\x20white-space:\x20nowrap;\x20transition:\x20all\x200.2s\x20ease-in-out;\x20vertical-align:\x20middle;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20th\x20{\x20background-color:\x20#f2f2f2;\x20font-weight:\x20bold;\x20position:\x20sticky;\x20top:\x20-1px;\x20cursor:\x20pointer;\x20user-select:\x20none;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20tbody\x20tr:nth-child(odd)\x20{\x20background-color:\x20#f9f9f9;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20tbody\x20tr:hover\x20{\x20background-color:\x20#e6f7ff;\x20transform:\x20scale(1.015);\x20box-shadow:\x200\x204px\x208px\x20rgba(0,0,0,0.1);\x20z-index:\x2010;\x20position:\x20relative;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20tbody\x20tr:hover\x20td\x20{\x20font-size:\x2013px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20tfoot\x20td\x20{\x20background-color:\x20#e9ecef;\x20font-weight:\x20bold;\x20text-align:\x20right;\x20border-top:\x202px\x20solid\x20#ccc;\x20padding:\x2012px\x208px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20tfoot\x20td:first-child\x20{\x20text-align:\x20left;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20th.sort-asc::after,\x20#stats-results-container\x20th.sort-desc::after\x20{\x20content:\x20\x27\x27;\x20display:\x20inline-block;\x20margin-left:\x205px;\x20border-left:\x204px\x20solid\x20transparent;\x20border-right:\x204px\x20solid\x20transparent;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20th.sort-asc::after\x20{\x20border-bottom:\x205px\x20solid\x20#333;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#stats-results-container\x20th.sort-desc::after\x20{\x20border-top:\x205px\x20solid\x20#333;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-text\x20{\x20text-align:\x20left;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-number\x20{\x20text-align:\x20right;\x20font-family:\x20\x27Roboto\x20Mono\x27,\x20\x27Courier\x20New\x27,\x20monospace;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-center\x20{\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-rate\x20{\x20white-space:\x20normal;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-primary-text\x20{\x20font-weight:\x20bold;\x20font-size:\x2013px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-secondary\x20{\x20color:\x20#6c757d;\x20font-size:\x2011px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-highlight\x20{\x20font-weight:\x20bold;\x20font-size:\x2013px;\x20color:\x20#0056b3;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-profit\x20{\x20color:\x20#28a745\x20!important;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.col-loss\x20{\x20color:\x20#dc3545\x20!important;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.status-cell-1\x20{\x20color:\x20green;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.status-cell-2\x20{\x20color:\x20orange;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.status-cell-3\x20{\x20color:\x20red;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.rate-high\x20{\x20color:\x20#28a745\x20!important;\x20font-weight:bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.rate-medium\x20{\x20color:\x20#ffc107\x20!important;\x20font-weight:bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.rate-low\x20{\x20color:\x20#dc3545\x20!important;\x20font-weight:bold;\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20Skeleton\x20&\x20Copy\x20Feedback\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.skeleton-table\x20{\x20width:\x20100%;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.skeleton-table\x20.skeleton-row\x20{\x20display:\x20flex;\x20padding:\x2010px\x200;\x20border-bottom:\x201px\x20solid\x20#e0e0e0;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.skeleton-table\x20.skeleton-cell\x20{\x20height:\x2020px;\x20background:\x20linear-gradient(90deg,\x20#f0f0f0\x2025%,\x20#e0e0e0\x2050%,\x20#f0f0f0\x2075%);\x20background-size:\x20200%\x20100%;\x20animation:\x20skeleton-shine\x201.5s\x20infinite;\x20border-radius:\x204px;\x20margin:\x200\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20skeleton-shine\x20{\x200%\x20{\x20background-position:\x20200%\x200;\x20}\x20100%\x20{\x20background-position:\x20-200%\x200;\x20}\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#copy-tooltip\x20{\x20position:\x20fixed;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20white;\x20padding:\x208px\x2012px;\x20border-radius:\x206px;\x20font-size:\x2014px;\x20z-index:\x2099999;\x20pointer-events:\x20none;\x20opacity:\x200;\x20transition:\x20opacity\x200.3s,\x20transform\x200.3s;\x20transform:\x20translate(-50%,\x20-100%)\x20scale(0.9);\x20white-space:\x20pre-wrap;\x20text-align:\x20center;\x20max-width:\x20300px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#copy-tooltip.visible\x20{\x20opacity:\x201;\x20transform:\x20translate(-50%,\x20-120%)\x20scale(1);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#progress-container\x20{\x20padding:\x2020px;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#progress-bar\x20{\x20width:\x20100%;\x20background-color:\x20#e0e0e0;\x20border-radius:\x204px;\x20overflow:\x20hidden;\x20margin-bottom:\x2010px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#progress-bar-inner\x20{\x20height:\x2020px;\x20width:\x200%;\x20background-color:\x20#007bff;\x20transition:\x20width\x200.2s;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x38df3b=document[_0x361ec4(0xe7)](_0x361ec4(0xd2));_0x38df3b[_0x361ec4(0xd3)]=_0x361ec4(0x15b),_0x38df3b['innerText']=_0x29a0bc,document[_0x361ec4(0xf6)][_0x361ec4(0x1ec)](_0x38df3b);},'createBaseUI'(){const _0x3cef6d=_0x556e51,_0x2edff1=document[_0x3cef6d(0x184)];this['elements'][_0x3cef6d(0x1ca)]=this[_0x3cef6d(0xe7)](_0x3cef6d(0xc3),{'id':'stats-button','text':'GDS\x20报表工具'}),this[_0x3cef6d(0x97)]['overlay']=this[_0x3cef6d(0xe7)](_0x3cef6d(0x19c),{'id':_0x3cef6d(0x98)}),this[_0x3cef6d(0x97)][_0x3cef6d(0x207)]=this[_0x3cef6d(0xe7)](_0x3cef6d(0x19c),{'id':_0x3cef6d(0x117)}),this[_0x3cef6d(0x97)]['closeBtn']=this[_0x3cef6d(0xe7)](_0x3cef6d(0x14d),{'id':_0x3cef6d(0x1ed),'html':'×'}),this[_0x3cef6d(0x97)]['controlsDiv']=this[_0x3cef6d(0xe7)](_0x3cef6d(0x19c),{'id':'stats-controls'}),this[_0x3cef6d(0x97)][_0x3cef6d(0x85)]=this[_0x3cef6d(0xe7)]('div',{'id':_0x3cef6d(0xa4)}),this[_0x3cef6d(0x97)][_0x3cef6d(0xf1)]=this['createElement']('div',{'id':_0x3cef6d(0xb0)}),this[_0x3cef6d(0x97)]['modal']['append'](this[_0x3cef6d(0x97)][_0x3cef6d(0x1e7)],this['elements'][_0x3cef6d(0x1b4)],this['elements']['resultsContainer']),this[_0x3cef6d(0x97)]['overlay'][_0x3cef6d(0x1ec)](this[_0x3cef6d(0x97)][_0x3cef6d(0x207)]),_0x2edff1[_0x3cef6d(0x171)](this['elements']['statsButton'],this[_0x3cef6d(0x97)][_0x3cef6d(0x123)],this[_0x3cef6d(0x97)][_0x3cef6d(0xf1)]);},'createElement'(_0x413837,_0x5e2526={}){const _0x2b27d7=_0x556e51,_0x56bc24=document[_0x2b27d7(0xe7)](_0x413837);if(_0x5e2526['id'])_0x56bc24['id']=_0x5e2526['id'];if(_0x5e2526[_0x2b27d7(0x1bc)])_0x56bc24['className']=_0x5e2526[_0x2b27d7(0x1bc)];if(_0x5e2526[_0x2b27d7(0x7f)])_0x56bc24[_0x2b27d7(0x205)]=_0x5e2526[_0x2b27d7(0x7f)];if(_0x5e2526[_0x2b27d7(0x84)])_0x56bc24['innerHTML']=_0x5e2526[_0x2b27d7(0x84)];if(_0x5e2526[_0x2b27d7(0xd3)])_0x56bc24[_0x2b27d7(0xd3)]=_0x5e2526[_0x2b27d7(0xd3)];if(_0x5e2526[_0x2b27d7(0x134)])_0x56bc24[_0x2b27d7(0x134)]=_0x5e2526[_0x2b27d7(0x134)];if(_0x5e2526['placeholder'])_0x56bc24['placeholder']=_0x5e2526[_0x2b27d7(0x1b3)];return _0x56bc24;},'attachEventListeners'(){const _0x437e0c=_0x556e51;this['elements'][_0x437e0c(0x1ca)]['addEventListener'](_0x437e0c(0x95),()=>{const _0x4734a5=_0x437e0c,_0x5cde4b=localStorage[_0x4734a5(0x164)](_0x3c9b58[_0x4734a5(0xc7)]),_0x54a579=_0x3810a8[_0x5cde4b];_0x54a579?_0x54a579[_0x4734a5(0x10c)]():this[_0x4734a5(0x8e)](),this['elements']['overlay'][_0x4734a5(0xd2)]['display']='flex';}),this[_0x437e0c(0x97)][_0x437e0c(0x1e7)][_0x437e0c(0xb4)]=()=>this[_0x437e0c(0x97)][_0x437e0c(0x123)][_0x437e0c(0xd2)][_0x437e0c(0xfb)]=_0x437e0c(0xa7),this[_0x437e0c(0x97)]['overlay'][_0x437e0c(0xb4)]=_0x334b8d=>{const _0x7eaee=_0x437e0c;if(_0x334b8d['target']===this[_0x7eaee(0x97)][_0x7eaee(0x123)])this[_0x7eaee(0x97)][_0x7eaee(0x123)]['style'][_0x7eaee(0xfb)]='none';},this[_0x437e0c(0x97)]['controlsDiv'][_0x437e0c(0xec)](_0x437e0c(0x95),_0x2e5eed=>{const _0x29a9eb=_0x437e0c,_0x31a79c=_0x2e5eed['target'][_0x29a9eb(0x182)](_0x29a9eb(0xc3));if(!_0x31a79c)return;if(_0x31a79c[_0x29a9eb(0x19e)]('.report-selection-btn')){let _0x3a23d3=_0x31a79c['id'][_0x29a9eb(0x15d)]('select-','')[_0x29a9eb(0x15d)](_0x29a9eb(0x1f0),'');_0x3a23d3=_0x3a23d3[_0x29a9eb(0x15d)](/-(\w)/g,(_0x1fecbe,_0x87aa10)=>_0x87aa10[_0x29a9eb(0x1df)]()),localStorage['setItem'](_0x3c9b58['LAST_REPORT_KEY'],_0x3a23d3),_0x3810a8[_0x3a23d3]&&_0x3810a8[_0x3a23d3][_0x29a9eb(0x10c)]();}_0x31a79c['id']===_0x29a9eb(0x8f)&&this['showReportSelection']();});},'showReportSelection'(){const _0xdd1ef3=_0x556e51,{controlsDiv:_0x197304,resultsContainer:_0x2758a5}=this[_0xdd1ef3(0x97)];_0x197304[_0xdd1ef3(0xd2)]['borderBottom']='none',_0x197304[_0xdd1ef3(0xa8)]=_0xdd1ef3(0x16d),_0x2758a5[_0xdd1ef3(0xa8)]='';},'showSkeletonLoader'(_0x43fdf3=0x8){const _0x3d86b9=_0x556e51;let _0x4e9049=_0x3d86b9(0xd6);for(let _0x190add=0x0;_0x190add<0xa;_0x190add++){_0x4e9049+=_0x3d86b9(0xff);for(let _0x4bad67=0x0;_0x4bad67<_0x43fdf3;_0x4bad67++){const _0x549724=0x50+Math[_0x3d86b9(0x1f8)]()*0x46;_0x4e9049+=_0x3d86b9(0x169)+_0x549724+_0x3d86b9(0x1e6)+_0x549724+_0x3d86b9(0x17f);}_0x4e9049+=_0x3d86b9(0x1a0);}_0x4e9049+=_0x3d86b9(0x1a0),this[_0x3d86b9(0x97)]['resultsContainer'][_0x3d86b9(0xa8)]=_0x4e9049;},'showCopyTooltip'(_0x336147,_0xef60c6){const _0x101108=_0x556e51;clearTimeout(this[_0x101108(0x1a8)]);const {copyTooltip:_0x19ed37}=this[_0x101108(0x97)];_0x19ed37[_0x101108(0xa8)]=_0x101108(0x11f)+_0x336147+_0x101108(0xfe),_0x19ed37[_0x101108(0xd2)]['left']=_0xef60c6[_0x101108(0xb5)]+'px',_0x19ed37['style'][_0x101108(0x1d9)]=_0xef60c6[_0x101108(0x189)]+'px',_0x19ed37[_0x101108(0x1ce)][_0x101108(0x1cf)]('visible'),this[_0x101108(0x1a8)]=setTimeout(()=>_0x19ed37[_0x101108(0x1ce)][_0x101108(0x194)]('visible'),0x5dc);},'updateProgressBar'(_0xdfac9f,_0x119bfb){const _0x190494=_0x556e51,_0x243389=document[_0x190494(0x92)](_0x190494(0x1da)),_0x29f35e=document[_0x190494(0x92)](_0x190494(0x125));if(_0x243389)_0x243389['style']['width']=_0xdfac9f+'%';if(_0x29f35e)_0x29f35e[_0x190494(0x205)]=_0x119bfb;},'loadHtml2Canvas'(){const _0x6de990=_0x556e51;if(this[_0x6de990(0x20a)])return this[_0x6de990(0x20a)];return this[_0x6de990(0x20a)]=new Promise((_0x503459,_0x403bf6)=>{const _0x552c04=_0x6de990;if(typeof window[_0x552c04(0x107)]===_0x552c04(0x12f))return _0x503459();const _0x30be8a=this['createElement'](_0x552c04(0x175));_0x30be8a[_0x552c04(0x149)]=_0x3c9b58[_0x552c04(0xb1)],_0x30be8a[_0x552c04(0xad)]=()=>_0x503459(),_0x30be8a[_0x552c04(0x1cb)]=()=>_0x403bf6(new Error(_0x552c04(0x13b))),document[_0x552c04(0xf6)]['appendChild'](_0x30be8a);}),this['html2canvasPromise'];},async 'captureAndCopyToClipboard'(_0x1c474a,_0xb63743){const _0x1a1db1=_0x556e51,_0x354812=_0xb63743[_0x1a1db1(0x205)];_0xb63743[_0x1a1db1(0x205)]=_0x1a1db1(0x1c3),_0xb63743['disabled']=!![];try{await this[_0x1a1db1(0x119)]();const _0x4ad052=await window[_0x1a1db1(0x107)](_0x1c474a,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x1a1db1(0xc1)}),_0x37fa81=await new Promise(_0x25ada7=>_0x4ad052[_0x1a1db1(0x1c7)](_0x25ada7,_0x1a1db1(0x1e0)));await navigator[_0x1a1db1(0x87)][_0x1a1db1(0x1d1)]([new ClipboardItem({'image/png':_0x37fa81})]),_0xb63743[_0x1a1db1(0x205)]=_0x1a1db1(0x155),setTimeout(()=>{const _0x116350=_0x1a1db1;_0xb63743[_0x116350(0x205)]=_0x354812;},0x3e8);}catch(_0x129d9f){console[_0x1a1db1(0xbb)](_0x1a1db1(0xb9),_0x129d9f),alert(_0x1a1db1(0xf7)+_0x129d9f[_0x1a1db1(0xe1)]+'\x0a\x0a请确保浏览器允许访问剪贴板。'),_0xb63743[_0x1a1db1(0x205)]=_0x354812;}finally{_0xb63743['disabled']=![];}}},_0x2f0810={'createSortableTable'({container:_0x362c34,title:_0x8a5d9f,data:_0x19e3be,columns:_0x229eaa,footerCalcs:_0x1a052b,initialSort:_0x4f8687}){const _0x744716=_0x556e51;_0x362c34[_0x744716(0xa8)]=_0x744716(0x18d)+_0x8a5d9f+_0x744716(0x7e);const _0x7fd7a6=document[_0x744716(0x92)](_0x744716(0x129));if(!_0x19e3be||_0x19e3be['length']===0x0){_0x362c34['innerHTML']+=_0x744716(0x180)+(_0x8a5d9f[_0x744716(0x150)]('符合')?_0x744716(0x187):'任何')+_0x744716(0x1f1);if(_0x7fd7a6)_0x7fd7a6[_0x744716(0xa0)]=!![];return;}const _0x2db578=_0x54d453[_0x744716(0xe7)](_0x744716(0x82)),_0x5c52e4=_0x54d453[_0x744716(0xe7)](_0x744716(0x15e)),_0x1d78a3=_0x54d453[_0x744716(0xe7)](_0x744716(0x100)),_0x116e34=_0x54d453[_0x744716(0xe7)]('tfoot');_0x2db578[_0x744716(0x171)](_0x5c52e4,_0x1d78a3,_0x116e34),_0x1d78a3[_0x744716(0xec)](_0x744716(0x141),_0x4e2225=>{const _0x49021a=_0x744716,_0x513f69=_0x4e2225[_0x49021a(0x10b)][_0x49021a(0x182)]('td');if(!_0x513f69)return;_0x4e2225[_0x49021a(0x1f6)](),navigator[_0x49021a(0x87)]['writeText'](_0x513f69[_0x49021a(0x205)])['then'](()=>{const _0x1b047c=_0x49021a;_0x54d453[_0x1b047c(0x14f)](_0x513f69[_0x1b047c(0x205)],_0x4e2225);});});const _0x138b1a=_0x3acd7c=>{const _0x3b654c=_0x744716;let _0x3c6dcf='';_0x3acd7c[_0x3b654c(0x11c)](_0x9b66c1=>{const _0x851b6a=_0x3b654c;_0x3c6dcf+=_0x851b6a(0x16a),_0x229eaa[_0x851b6a(0x11c)](_0x56e36a=>{const _0x41131a=_0x851b6a,_0x467440=_0x9b66c1[_0x56e36a['key']],{formattedValue:_0x2c0256,classes:_0x328fb9}=this[_0x41131a(0x109)](_0x467440,_0x56e36a);_0x3c6dcf+=_0x41131a(0x113)+_0x328fb9[_0x41131a(0x1ac)]('\x20')+'\x22>'+_0x2c0256+'</td>';}),_0x3c6dcf+='</tr>';}),_0x1d78a3['innerHTML']=_0x3c6dcf;};let _0x104b51=_0x4f8687||{'key':_0x229eaa[0x0][_0x744716(0x128)],'dir':_0x744716(0x13c)};const _0x1994bd=()=>{const _0xc3813=_0x744716;_0x19e3be[_0xc3813(0xb8)]((_0xb16401,_0x343b47)=>{const _0x112ce4=_0xc3813,_0x545a50=_0xb16401[_0x104b51[_0x112ce4(0x128)]],_0x9d3284=_0x343b47[_0x104b51[_0x112ce4(0x128)]];let _0x5d655e=0x0;if(typeof _0x545a50===_0x112ce4(0xde)&&typeof _0x9d3284==='number')_0x5d655e=_0x545a50-_0x9d3284;else{if(String(_0x545a50)[_0x112ce4(0x193)]('%')&&String(_0x9d3284)[_0x112ce4(0x193)]('%'))_0x5d655e=parseFloat(_0x545a50)-parseFloat(_0x9d3284);else _0x5d655e=String(_0x545a50)[_0x112ce4(0x203)](String(_0x9d3284),undefined,{'numeric':!![],'sensitivity':'base'});}return _0x104b51[_0x112ce4(0xd7)]===_0x112ce4(0x13c)?_0x5d655e:-_0x5d655e;});},_0x170203=_0x54d453['createElement']('tr');_0x229eaa[_0x744716(0x11c)](_0x3ec43c=>{const _0x442996=_0x744716,_0x4eb251=_0x54d453[_0x442996(0xe7)]('th',{'text':_0x3ec43c[_0x442996(0x168)]});_0x4eb251[_0x442996(0xec)]('click',()=>{const _0x48ee0f=_0x442996,_0x3709da=_0x104b51['key']===_0x3ec43c[_0x48ee0f(0x128)]&&_0x104b51[_0x48ee0f(0xd7)]==='asc'?_0x48ee0f(0x12e):_0x48ee0f(0x13c);_0x104b51={'key':_0x3ec43c[_0x48ee0f(0x128)],'dir':_0x3709da},_0x5c52e4['querySelectorAll']('th')[_0x48ee0f(0x11c)](_0x3f8022=>_0x3f8022[_0x48ee0f(0x1ce)][_0x48ee0f(0x194)](_0x48ee0f(0x1be),'sort-desc')),_0x4eb251[_0x48ee0f(0x1ce)][_0x48ee0f(0x1cf)](_0x3709da===_0x48ee0f(0x13c)?'sort-asc':'sort-desc'),_0x1994bd(),_0x138b1a(_0x19e3be);}),_0x170203[_0x442996(0x1ec)](_0x4eb251);}),_0x5c52e4[_0x744716(0x1ec)](_0x170203);if(_0x1a052b){const _0x1bf977={};_0x1a052b[_0x744716(0x19b)][_0x744716(0x11c)](_0x263f8a=>{_0x1bf977[_0x263f8a]=_0x19e3be['reduce']((_0x38bf23,_0x17019d)=>_0x38bf23+(_0x17019d[_0x263f8a]||0x0),0x0);});if(_0x1a052b[_0x744716(0xc6)])_0x1a052b[_0x744716(0xc6)](_0x1bf977,_0x19e3be);const _0x2059fa=_0x54d453[_0x744716(0xe7)]('tr');let _0x4a744a='';_0x229eaa[_0x744716(0x11c)]((_0x5b179b,_0x1b60a4)=>{const _0x2feb81=_0x744716;if(_0x1b60a4===0x0)_0x4a744a+=_0x2feb81(0x14c)+_0x1a052b[_0x2feb81(0x168)](_0x19e3be['length'])+_0x2feb81(0xbc);else{const _0x5120f9=_0x1bf977[_0x5b179b['key']];if(_0x5120f9!==undefined){const {formattedValue:_0x844b36,classes:_0x4c3552}=this['formatCell'](_0x5120f9,_0x5b179b,!![]);_0x4a744a+='<td\x20class=\x22'+_0x4c3552['join']('\x20')+'\x22>'+_0x844b36+'</td>';}else _0x4a744a+=_0x2feb81(0x1aa);}}),_0x2059fa[_0x744716(0xa8)]=_0x4a744a,_0x116e34[_0x744716(0x1ec)](_0x2059fa);}_0x1994bd(),_0x138b1a(_0x19e3be),_0x362c34[_0x744716(0x1ec)](_0x2db578),_0x7fd7a6&&(_0x7fd7a6[_0x744716(0xa0)]=![],_0x7fd7a6[_0x744716(0xb4)]=()=>_0x54d453[_0x744716(0x120)](_0x2db578,_0x7fd7a6));},'formatCell'(_0x58997d,_0x299ebe,_0x1bfe69=![]){const _0x40c1b0=_0x556e51;let _0x2af7cb=_0x58997d;const _0xe5e806=['col-text'],_0x2c5416=_0x299ebe[_0x40c1b0(0xd3)]||'text',_0x5b7697=_0xf28215=>{const _0x7dcd92=_0x40c1b0;if(_0xf28215)_0xe5e806[_0x7dcd92(0x1a6)](_0xf28215);};_0x5b7697(_0x299ebe[_0x40c1b0(0x1bc)]);switch(_0x2c5416){case _0x40c1b0(0x1c4):_0x2af7cb=_0x4304a5[_0x40c1b0(0x19d)](_0x58997d),_0xe5e806[_0x40c1b0(0x1a6)]('col-number');if(_0x299ebe['highlightProfitLoss']){if(_0x58997d>0x0)_0x5b7697(_0x40c1b0(0x146));if(_0x58997d<0x0)_0x5b7697(_0x40c1b0(0x80));}break;case _0x40c1b0(0x1a9):_0x2af7cb=_0x4304a5[_0x40c1b0(0x174)](_0x58997d),_0xe5e806[_0x40c1b0(0x1a6)](_0x40c1b0(0xca));break;case _0x40c1b0(0xe5):_0x2af7cb=_0x4304a5['formatPercent'](_0x58997d),_0xe5e806['push'](_0x40c1b0(0xca),_0x40c1b0(0x148));break;case'rate':const _0x1a75bf=parseFloat(_0x58997d)||0x0;_0x2af7cb=_0x4304a5[_0x40c1b0(0x208)](_0x1a75bf),_0xe5e806[_0x40c1b0(0x1a6)](_0x40c1b0(0xca),'col-rate');if(_0x299ebe[_0x40c1b0(0x1b1)]){if(_0x1a75bf>=_0x299ebe['thresholds'][_0x40c1b0(0x8b)])_0x5b7697(_0x40c1b0(0x1c1));else{if(_0x1a75bf>=_0x299ebe['thresholds'][_0x40c1b0(0x16e)])_0x5b7697(_0x40c1b0(0x17d));else{if(_0x1a75bf>0x0)_0x5b7697(_0x40c1b0(0xdb));}}}break;case'status':const _0x24150e=Object[_0x40c1b0(0x19b)](_0x3c9b58['STATUS_MAP'])[_0x40c1b0(0xc8)](_0x6ed84c=>_0x3c9b58['STATUS_MAP'][_0x6ed84c]===_0x58997d);_0x5b7697(_0x40c1b0(0x1f2)+_0x24150e),_0xe5e806[_0x40c1b0(0x1a6)]('col-center');break;case _0x40c1b0(0xd9):_0xe5e806[_0x40c1b0(0x1a6)](_0x40c1b0(0x105));break;}if(_0x299ebe[_0x40c1b0(0x110)]&&!_0x1bfe69)_0x5b7697(_0x40c1b0(0x1ef));if(_0x299ebe[_0x40c1b0(0x11b)]&&!_0x1bfe69)_0x5b7697(_0x40c1b0(0x12c));return{'formattedValue':_0x2af7cb,'classes':_0xe5e806};}},_0x3810a8={};async function _0x10a6d7(_0x244840,_0x4353aa){const _0x2fb06a=_0x556e51,{statsButton:_0x22623d,resultsContainer:_0x4138f3}=_0x54d453[_0x2fb06a(0x97)],_0x5cb1a2=document[_0x2fb06a(0x92)](_0x2fb06a(0x145)),_0x5c2f5f=document['getElementById'](_0x2fb06a(0x129));_0x5cb1a2[_0x2fb06a(0xa0)]=!![],_0x22623d[_0x2fb06a(0xa0)]=!![],_0x5cb1a2[_0x2fb06a(0x205)]=_0x2fb06a(0x12b);if(_0x5c2f5f)_0x5c2f5f[_0x2fb06a(0xa0)]=!![];try{await _0x4353aa[_0x2fb06a(0x10e)](_0x244840);}catch(_0x1a1e9e){console[_0x2fb06a(0xbb)](_0x2fb06a(0x11d),_0x1a1e9e),_0x4138f3[_0x2fb06a(0xa8)]=_0x2fb06a(0x15a)+_0x1a1e9e['message']+_0x2fb06a(0xef);}finally{_0x5cb1a2[_0x2fb06a(0xa0)]=![],_0x22623d['disabled']=![],_0x5cb1a2[_0x2fb06a(0x205)]='生成报表';}}_0x3810a8[_0x556e51(0x81)]={'masterResultData':[],'upiAccountSet':new Set(),'currentReportDate':'','BATCH_SIZE':0x64,'initControls'(){const _0x58f7ff=_0x556e51,{controlsDiv:_0x2a6fe7,resultsContainer:_0x5bf321}=_0x54d453[_0x58f7ff(0x97)];_0x2a6fe7[_0x58f7ff(0xd2)][_0x58f7ff(0x186)]=_0x58f7ff(0x165),_0x5bf321['innerHTML']='',_0x2a6fe7['innerHTML']=_0x58f7ff(0x79)+_0x4304a5[_0x58f7ff(0xf2)]()+_0x58f7ff(0x1d8),_0x2a6fe7['querySelector'](_0x58f7ff(0x200))['addEventListener']('change',()=>this[_0x58f7ff(0xce)]()),_0x2a6fe7['querySelector']('#start-generation-btn')['addEventListener'](_0x58f7ff(0x95),()=>_0x10a6d7(this,this[_0x58f7ff(0x195)]));},'toggleView'(){const _0x259b4b=_0x556e51,_0x4610b7=document[_0x259b4b(0x92)](_0x259b4b(0xaf))[_0x259b4b(0x1cd)],_0x6ec9b8=_0x259b4b(0xba)+this[_0x259b4b(0x185)]+_0x259b4b(0x127)+(_0x4610b7?_0x259b4b(0x1db):_0x259b4b(0x124)),_0x3e3338=_0x4610b7?this['masterResultData']:this[_0x259b4b(0x157)][_0x259b4b(0x1fe)](_0x1ea123=>this[_0x259b4b(0x1bb)]['has'](_0x1ea123[_0x259b4b(0x77)]));this[_0x259b4b(0x1a2)](_0x6ec9b8,_0x3e3338);},'renderTable'(_0x497bd4,_0x4304bf){const _0x19079b=_0x556e51,_0x5b14ae=[{'key':'Channel\x20ID','label':_0x19079b(0x159),'type':_0x19079b(0x7f)},{'key':_0x19079b(0x18c),'label':_0x19079b(0x18c),'type':_0x19079b(0x7f)},{'key':_0x19079b(0x77),'label':_0x19079b(0x77),'type':_0x19079b(0xd9)},{'key':_0x19079b(0x132),'label':_0x19079b(0x132),'type':'currency','class':_0x19079b(0x146)},{'key':_0x19079b(0x154),'label':_0x19079b(0x154),'type':'currency','class':_0x19079b(0x80)},{'key':'代收成功-笔','label':_0x19079b(0x140),'type':'integer'},{'key':_0x19079b(0x8c),'label':_0x19079b(0x8c),'type':_0x19079b(0x1a9)},{'key':_0x19079b(0x1b7),'label':_0x19079b(0x1b7),'type':'rate','thresholds':{'high':0x28,'medium':0x1e}},{'key':_0x19079b(0xdd),'label':_0x19079b(0xdd),'type':_0x19079b(0x1c4)},{'key':_0x19079b(0xd0),'label':_0x19079b(0xd0),'type':_0x19079b(0x106),'thresholds':{'high':0x5a,'medium':0x50}},{'key':'补单金额','label':'补单金额','type':_0x19079b(0x1c4)},{'key':_0x19079b(0x151),'label':_0x19079b(0x151),'type':'rate','thresholds':{'high':0x28,'medium':0x1e}},{'key':_0x19079b(0xe2),'label':_0x19079b(0xe2),'type':_0x19079b(0x1a9)},{'key':_0x19079b(0xf3),'label':'自动-金','type':'currency'},{'key':_0x19079b(0xc5),'label':_0x19079b(0xc5),'type':_0x19079b(0x1a9)},{'key':'收银台-金','label':'收银台-金','type':_0x19079b(0x1c4)},{'key':_0x19079b(0x1fd),'label':_0x19079b(0x1fd),'type':'integer'},{'key':_0x19079b(0x161),'label':'TG补单-金','type':_0x19079b(0x1c4)},{'key':_0x19079b(0x1de),'label':_0x19079b(0x1de),'type':_0x19079b(0x1a9)},{'key':_0x19079b(0xd1),'label':_0x19079b(0xd1),'type':'currency'},{'key':_0x19079b(0x7c),'label':_0x19079b(0x7c),'type':'integer'},{'key':_0x19079b(0x8d),'label':_0x19079b(0x8d),'type':_0x19079b(0x1c4)}],_0x5e142b={'label':_0x37e79f=>_0x19079b(0x130)+_0x37e79f+_0x19079b(0xd5),'keys':['转入金额',_0x19079b(0x154),_0x19079b(0x140),_0x19079b(0x8c),'成功金额\x20(自动)',_0x19079b(0x188),'自动-笔','自动-金',_0x19079b(0xc5),_0x19079b(0xaa),_0x19079b(0x1fd),_0x19079b(0x161),_0x19079b(0x1de),_0x19079b(0xd1),_0x19079b(0x7c),'总金额\x20(UPI)'],'postProcess':_0x49a484=>{const _0x177caa=_0x19079b,_0xc5bfd7=_0x49a484[_0x177caa(0x140)]||0x0,_0x50d2ac=_0x49a484[_0x177caa(0x8c)]||0x0;_0x49a484[_0x177caa(0x1b7)]=_0x4304a5[_0x177caa(0x17b)](_0xc5bfd7,_0xc5bfd7+_0x50d2ac);}};_0x2f0810[_0x19079b(0x116)]({'container':_0x54d453['elements']['resultsContainer'],'title':_0x497bd4,'data':_0x4304bf,'columns':_0x5b14ae,'footerCalcs':_0x5e142b,'initialSort':{'key':_0x19079b(0x77),'dir':'asc'}});},async 'fetchAllPaginatedData'({taskName:_0x75c542,createFetchPromise:_0x171c4a,processPageData:_0x1f81d2,onProgress:_0x1f0ec0}){const _0x9d504b=_0x556e51,_0x1e2dbe={},_0x10a3f7=await _0x171c4a(0x1),_0x1aa0c1=_0x10a3f7[_0x9d504b(0x9a)]?.[_0x9d504b(0x162)]||_0x10a3f7[_0x9d504b(0x162)],_0xf62f00=Array['isArray'](_0x10a3f7[_0x9d504b(0x9a)])?_0x10a3f7[_0x9d504b(0x9a)]:_0x10a3f7[_0x9d504b(0x9a)]?.[_0x9d504b(0x10f)];if(!_0x1aa0c1||typeof _0x1aa0c1['total']===_0x9d504b(0x138))throw new Error('['+_0x75c542+_0x9d504b(0x1c5));_0x1f81d2(_0x1e2dbe,_0xf62f00||[]),_0x1f0ec0();const _0x5d0d9b=Math[_0x9d504b(0x108)](_0x1aa0c1[_0x9d504b(0x1b2)]/_0x3c9b58['PAGE_SIZE']);if(_0x5d0d9b>0x1){const _0x21d53b=Array[_0x9d504b(0x18f)]({'length':_0x5d0d9b-0x1},(_0x5063ed,_0x5c6527)=>()=>_0x171c4a(_0x5c6527+0x2)),_0x366634=await _0x4304a5['runPromisesWithConcurrency'](_0x21d53b,_0x3c9b58['CONCURRENCY_LIMIT'],_0x1f0ec0);_0x366634[_0x9d504b(0x11c)](_0xf5dd7a=>{const _0x28954d=_0x9d504b;if(_0xf5dd7a[_0x28954d(0x1bf)]===_0x28954d(0x1a4)){const _0x26b151=Array[_0x28954d(0xcb)](_0xf5dd7a[_0x28954d(0x134)][_0x28954d(0x9a)])?_0xf5dd7a['value'][_0x28954d(0x9a)]:_0xf5dd7a[_0x28954d(0x134)][_0x28954d(0x9a)]?.[_0x28954d(0x10f)];_0x1f81d2(_0x1e2dbe,_0x26b151||[]);}});}return _0x1e2dbe;},'processReferenceData'(_0x173cae,_0x218422){const _0x1db4ee=_0x556e51;for(const _0x1f5add of _0x218422){if(!_0x1f5add[_0x1db4ee(0x9d)]||!_0x1f5add[_0x1db4ee(0x9d)][_0x1db4ee(0x1df)]()[_0x1db4ee(0x150)](_0x1db4ee(0x20c)))continue;const {channelId:_0x121e7f,merchantNo:_0x1758e6,accountName:_0x15f995,matchSource:_0x2b2e45,amount:_0x19a3aa}=_0x1f5add,_0x3aef75=_0x15f995||'N/A';!_0x173cae[_0x3aef75]&&(_0x173cae[_0x3aef75]={'channelId':_0x121e7f,'merchantNo':_0x1758e6,'accountName':_0x3aef75,...Object[_0x1db4ee(0x10a)](Object['values'](_0x3c9b58[_0x1db4ee(0xee)])['map'](_0x4f8da1=>[_0x4f8da1,{'count':0x0,'totalAmount':0x0}]))});const _0x4469a9=_0x3c9b58[_0x1db4ee(0xee)][_0x2b2e45];_0x4469a9&&(_0x173cae[_0x3aef75][_0x4469a9][_0x1db4ee(0x166)]++,_0x173cae[_0x3aef75][_0x4469a9][_0x1db4ee(0x1d6)]+=_0x19a3aa/0x64);}},'processPaymentData'(_0x3ea878,_0x360477){const _0x2e833d=_0x556e51;for(const _0xbf44e6 of _0x360477){const {tripartiteAccount:_0x27e2ba,status:_0xc951c5,actualAmount:_0x47459b}=_0xbf44e6;if(!_0x27e2ba)continue;const _0x20d602=_0x27e2ba;!_0x3ea878[_0x20d602]&&(_0x3ea878[_0x20d602]={'成功':{'count':0x0,'totalAmount':0x0},'已发送':{'count':0x0,'totalAmount':0x0}});if(_0xc951c5===0x3)_0x3ea878[_0x20d602]['成功'][_0x2e833d(0x166)]++,_0x3ea878[_0x20d602]['成功'][_0x2e833d(0x1d6)]+=_0x47459b/0x64;else _0xc951c5===0x2&&(_0x3ea878[_0x20d602][_0x2e833d(0x16f)][_0x2e833d(0x166)]++,_0x3ea878[_0x20d602][_0x2e833d(0x16f)]['totalAmount']+=_0x47459b/0x64);}},'processPayoutData'(_0x327814,_0x3db82a){const _0x10215d=_0x556e51;for(const _0x1ede44 of _0x3db82a){const {tripartiteAccount:_0x2e4726,amount:_0x2b7e38}=_0x1ede44;if(!_0x2e4726)continue;const _0x21698c=_0x2e4726;!_0x327814[_0x21698c]&&(_0x327814[_0x21698c]={'count':0x0,'totalAmount':0x0}),_0x327814[_0x21698c][_0x10215d(0x166)]++,_0x327814[_0x21698c][_0x10215d(0x1d6)]+=_0x2b7e38/0x64;}},async 'runReport'(){const _0x1ec5ae=_0x556e51,_0x429359=document[_0x1ec5ae(0x92)](_0x1ec5ae(0x136)),_0xd4ac66=document[_0x1ec5ae(0x92)]('view-toggle-label');_0x54d453[_0x1ec5ae(0x196)](0x12),this[_0x1ec5ae(0x185)]=_0x429359[_0x1ec5ae(0x134)];const _0x553674=Math[_0x1ec5ae(0xc4)]((new Date(this[_0x1ec5ae(0x185)])-new Date(_0x3c9b58[_0x1ec5ae(0xfd)]))/_0x3c9b58[_0x1ec5ae(0x16c)]),_0x521785=_0x3c9b58[_0x1ec5ae(0x153)]+_0x553674*_0x3c9b58['ONE_DAY_MS'],_0x56aae7=_0x4304a5[_0x1ec5ae(0xa2)]();if(!_0x56aae7)throw new Error(_0x1ec5ae(0x1b5));const _0x590942={'accept':_0x1ec5ae(0x135),'authorization':_0x56aae7},_0x1bdbbe={..._0x590942,'content-type':_0x1ec5ae(0x135)};let _0x14d8d7=0x0,_0x51adce=0x0;const _0x3b88f2=()=>{const _0x49b510=_0x1ec5ae;_0x51adce++;const _0x3ac610=_0x14d8d7>0x0?_0x51adce/_0x14d8d7*0x64:0x0;_0x54d453[_0x49b510(0x1f4)](_0x3ac610,_0x49b510(0x1a5)+_0x51adce+'\x20/\x20'+_0x14d8d7+'\x20页');},_0x2852c8=[{'taskName':'Reference\x20List','createFetchPromise':_0x30aadf=>_0x4304a5[_0x1ec5ae(0xf8)]('https://admin.gdspay.xyz/api/gateway/v1/reference/list?dateBegin='+_0x521785+_0x1ec5ae(0x1a1)+_0x521785+_0x1ec5ae(0x18b)+_0x30aadf+_0x1ec5ae(0xe4)+_0x3c9b58[_0x1ec5ae(0x1fa)],{'headers':_0x590942},_0x1ec5ae(0xbf)+_0x30aadf),'processPageData':this[_0x1ec5ae(0x88)][_0x1ec5ae(0x7b)](this)},{'taskName':_0x1ec5ae(0xbd),'createFetchPromise':_0x4739da=>_0x4304a5[_0x1ec5ae(0xf8)](_0x1ec5ae(0x204),{'method':_0x1ec5ae(0x1ae),'headers':_0x1bdbbe,'body':JSON[_0x1ec5ae(0xc0)]({'dateBegin':_0x521785,'dateEnd':_0x521785,'page':_0x4739da,'pageSize':_0x3c9b58[_0x1ec5ae(0x1fa)]})},_0x1ec5ae(0x15f)+_0x4739da),'processPageData':this[_0x1ec5ae(0xdf)]['bind'](this)},{'taskName':'Payout\x20List','createFetchPromise':_0x23e922=>_0x4304a5['fetchWithRetry'](_0x1ec5ae(0x1ff),{'method':'POST','headers':_0x1bdbbe,'body':JSON[_0x1ec5ae(0xc0)]({'statuses':[0x3],'dateBegin':_0x521785,'dateEnd':_0x521785,'page':_0x23e922,'pageSize':_0x3c9b58[_0x1ec5ae(0x1fa)]})},_0x1ec5ae(0x1d7)+_0x23e922),'processPageData':this[_0x1ec5ae(0x1f7)][_0x1ec5ae(0x7b)](this)}],_0x323f4a=await Promise[_0x1ec5ae(0x1dd)](_0x2852c8[_0x1ec5ae(0x96)](_0x242564=>_0x242564[_0x1ec5ae(0x201)](0x1)));_0x14d8d7=_0x323f4a[_0x1ec5ae(0xe3)]((_0x319469,_0x3e5878)=>_0x319469+Math[_0x1ec5ae(0x108)]((_0x3e5878[_0x1ec5ae(0x9a)]?.['page']?.['total']||_0x3e5878[_0x1ec5ae(0x162)]?.[_0x1ec5ae(0x1b2)]||0x0)/_0x3c9b58[_0x1ec5ae(0x1fa)]),0x0);if(_0x14d8d7===0x0){_0x54d453[_0x1ec5ae(0x97)][_0x1ec5ae(0x85)]['innerHTML']='<h1>银行账户统计\x20('+this[_0x1ec5ae(0x185)]+_0x1ec5ae(0x1b6);return;}_0x54d453[_0x1ec5ae(0x97)][_0x1ec5ae(0x85)][_0x1ec5ae(0xa8)]=_0x1ec5ae(0x1c0);const [_0x410645,_0x3c4736,_0x390b11]=await Promise[_0x1ec5ae(0x1dd)](_0x2852c8['map'](_0x2b3f2f=>this[_0x1ec5ae(0x20b)]({..._0x2b3f2f,'onProgress':_0x3b88f2}))),_0x2b05db=new Set([...Object[_0x1ec5ae(0x19b)](_0x410645),...Object[_0x1ec5ae(0x19b)](_0x3c4736),...Object[_0x1ec5ae(0x19b)](_0x390b11)]);this[_0x1ec5ae(0x1bb)]=new Set(Object[_0x1ec5ae(0x19b)](_0x410645)),this[_0x1ec5ae(0x157)]=Array[_0x1ec5ae(0x18f)](_0x2b05db)['map'](_0xf3ded9=>{const _0x4bed9b=_0x1ec5ae,_0xaa8415=_0x410645[_0xf3ded9]||{'channelId':'N/A','merchantNo':_0x4bed9b(0xa3),'自动':{'count':0x0,'totalAmount':0x0},'收银台':{'count':0x0,'totalAmount':0x0},'TG补单':{'count':0x0,'totalAmount':0x0},'未匹配':{'count':0x0,'totalAmount':0x0}},_0x1f7f88=_0x3c4736[_0xf3ded9]||{'成功':{'count':0x0,'totalAmount':0x0},'已发送':{'count':0x0,'totalAmount':0x0}},_0x2aaf86=_0x390b11[_0xf3ded9]||{'count':0x0,'totalAmount':0x0},_0x8e21bc=Object['values'](_0xaa8415)[_0x4bed9b(0xe3)]((_0x4a7c43,_0x4d3191)=>_0x4a7c43+(_0x4d3191[_0x4bed9b(0x166)]||0x0),0x0),_0x7cee8b=_0x1f7f88['成功'][_0x4bed9b(0x166)],_0x5bbc49=_0x1f7f88[_0x4bed9b(0x16f)][_0x4bed9b(0x166)];return{'Channel\x20ID':_0xaa8415[_0x4bed9b(0xf0)],'Merchant\x20No':_0xaa8415[_0x4bed9b(0x18e)],'银行账户':_0xf3ded9,'转入金额':_0x1f7f88['成功'][_0x4bed9b(0x1d6)],'转出金额':_0x2aaf86[_0x4bed9b(0x1d6)],'代收成功-笔':_0x7cee8b,'代收已发送-笔':_0x5bbc49,'代收成功率':_0x4304a5[_0x4bed9b(0x17b)](_0x7cee8b,_0x7cee8b+_0x5bbc49),'成功金额\x20(自动)':_0xaa8415['自动'][_0x4bed9b(0x1d6)],'成功率\x20(自动)':_0x4304a5[_0x4bed9b(0x17b)](_0xaa8415['自动']['count'],_0x8e21bc),'补单金额':_0xaa8415['收银台'][_0x4bed9b(0x1d6)]+_0xaa8415[_0x4bed9b(0x12a)][_0x4bed9b(0x1d6)],'补单率':_0x4304a5['calculateRate'](_0xaa8415['收银台']['count']+_0xaa8415['TG补单'][_0x4bed9b(0x166)],_0x8e21bc),'自动-笔':_0xaa8415['自动'][_0x4bed9b(0x166)],'自动-金':_0xaa8415['自动'][_0x4bed9b(0x1d6)],'收银台-笔':_0xaa8415[_0x4bed9b(0xd4)][_0x4bed9b(0x166)],'收银台-金':_0xaa8415['收银台'][_0x4bed9b(0x1d6)],'TG补单-笔':_0xaa8415['TG补单'][_0x4bed9b(0x166)],'TG补单-金':_0xaa8415[_0x4bed9b(0x12a)]['totalAmount'],'未匹配-笔':_0xaa8415['未匹配'][_0x4bed9b(0x166)],'未匹配-金':_0xaa8415[_0x4bed9b(0x209)][_0x4bed9b(0x1d6)],'总笔数\x20(UPI)':_0x8e21bc,'总金额\x20(UPI)':Object[_0x4bed9b(0x1a7)](_0xaa8415)[_0x4bed9b(0xe3)]((_0xa6f4e,_0x16be94)=>_0xa6f4e+(_0x16be94['totalAmount']||0x0),0x0)};}),document[_0x1ec5ae(0x92)]('show-all-accounts-toggle')['checked']=![],this[_0x1ec5ae(0xce)](),_0xd4ac66[_0x1ec5ae(0xd2)][_0x1ec5ae(0xfb)]='flex';}},_0x3810a8[_0x556e51(0xa9)]={'masterResultData':[],'currentReportDate':'','STATS_API_BATCH_SIZE':0x28,'REQUEST_DELAY':0x64,'initControls'(){const _0x5a1028=_0x556e51,{controlsDiv:_0x281652,resultsContainer:_0x2a4899}=_0x54d453[_0x5a1028(0x97)];_0x281652[_0x5a1028(0xd2)][_0x5a1028(0x186)]=_0x5a1028(0x165),_0x2a4899['innerHTML']='',_0x281652['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-selection-btn\x22>↩\x20返回</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22stats-date-input\x22\x20style=\x22font-weight:\x20bold;\x22>选择日期:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20id=\x22stats-date-input\x22\x20value=\x22'+_0x4304a5[_0x5a1028(0xf2)]()+_0x5a1028(0x14b)+Object[_0x5a1028(0x1b8)](_0x3c9b58[_0x5a1028(0x11a)])[_0x5a1028(0x96)](([_0x2b0be4,_0x39df43])=>_0x5a1028(0x13e)+_0x2b0be4+_0x5a1028(0x1e2)+_0x39df43+_0x5a1028(0x147))[_0x5a1028(0x1ac)]('')+_0x5a1028(0x9f),document[_0x5a1028(0x92)]('start-generation-btn')[_0x5a1028(0xec)](_0x5a1028(0x95),()=>_0x10a6d7(this,this[_0x5a1028(0x195)])),_0x281652[_0x5a1028(0x199)](_0x5a1028(0x1eb))['forEach'](_0x57833e=>_0x57833e[_0x5a1028(0xec)](_0x5a1028(0x160),()=>this[_0x5a1028(0xa6)]()));},'displayResults'(){const _0x511595=_0x556e51;if(!this['masterResultData'][_0x511595(0x158)]&&this['currentReportDate']){this['renderTable'](_0x511595(0x178)+this[_0x511595(0x185)]+')',[]);return;}const _0x20a7e4=Array[_0x511595(0x18f)](document[_0x511595(0x199)](_0x511595(0x1d4)))[_0x511595(0x96)](_0x52842d=>_0x3c9b58['STATUS_MAP'][_0x52842d['dataset']['status']]);let _0x250bd1=this[_0x511595(0x157)]['filter'](_0x3c8d39=>_0x20a7e4[_0x511595(0x150)](_0x3c8d39[_0x511595(0x142)]));document[_0x511595(0x92)](_0x511595(0x1c2))[_0x511595(0x1cd)]&&(_0x250bd1=_0x250bd1[_0x511595(0x1fe)](_0x46f9a3=>_0x46f9a3['代收成功(笔)']>0x0||_0x46f9a3[_0x511595(0x190)]>0x0)),this[_0x511595(0x1a2)](_0x511595(0x178)+this['currentReportDate']+')',_0x250bd1);},'renderTable'(_0x1b6dcd,_0x452054){const _0x1a02eb=_0x556e51,_0x21e11c=[{'key':_0x1a02eb(0x1fb),'label':_0x1a02eb(0x1fb),'type':_0x1a02eb(0x7f)},{'key':_0x1a02eb(0x1ba),'label':_0x1a02eb(0x1ba),'type':_0x1a02eb(0xd9)},{'key':'账户状态','label':_0x1a02eb(0x142),'type':'status'},{'key':_0x1a02eb(0xc2),'label':_0x1a02eb(0xc2),'type':_0x1a02eb(0x1a9),'secondary':!![]},{'key':'代收成功\x20(₹)','label':_0x1a02eb(0x1d3),'type':_0x1a02eb(0x1c4)},{'key':_0x1a02eb(0x9e),'label':_0x1a02eb(0x9e),'type':_0x1a02eb(0x1c4),'secondary':!![]},{'key':'代收成功率','label':'代收成功率','type':_0x1a02eb(0x106),'thresholds':{'high':0x28,'medium':0x1e}},{'key':'代付成功(笔)','label':_0x1a02eb(0x190),'type':_0x1a02eb(0x1a9),'secondary':!![]},{'key':'代付成功\x20(₹)','label':_0x1a02eb(0x126),'type':_0x1a02eb(0x1c4)},{'key':_0x1a02eb(0x102),'label':'代付均额\x20(₹)','type':_0x1a02eb(0x1c4),'secondary':!![]},{'key':_0x1a02eb(0x89),'label':_0x1a02eb(0x89),'type':_0x1a02eb(0x106),'thresholds':{'high':0x50,'medium':0x32}},{'key':'费率','label':'费率','type':_0x1a02eb(0x7f)},{'key':'当日佣金\x20(₹)','label':_0x1a02eb(0x7d),'type':_0x1a02eb(0x1c4),'highlight':!![]},{'key':'账变\x20(₹)','label':'账变\x20(₹)','type':_0x1a02eb(0x1c4),'highlight':!![],'highlightProfitLoss':!![]},{'key':_0x1a02eb(0xfc),'label':_0x1a02eb(0xfc),'type':_0x1a02eb(0x1c4),'highlight':!![],'highlightProfitLoss':!![]},{'key':_0x1a02eb(0xda),'label':_0x1a02eb(0xda),'type':'currency','highlight':!![],'class':_0x125fca=>Math['abs'](_0x125fca)>0.01?_0x1a02eb(0x80):''},{'key':_0x1a02eb(0xd8),'label':_0x1a02eb(0xd8),'type':'currency','highlight':!![]}],_0x363d17={'label':_0x723a32=>_0x1a02eb(0x130)+_0x723a32+'\x20商户)','keys':['可用余额\x20(₹)',_0x1a02eb(0x1d3),_0x1a02eb(0x126),_0x1a02eb(0x7d),_0x1a02eb(0xbe),'核对账变\x20(₹)',_0x1a02eb(0xda)]};_0x2f0810[_0x1a02eb(0x116)]({'container':_0x54d453[_0x1a02eb(0x97)][_0x1a02eb(0x85)],'title':_0x1b6dcd,'data':_0x452054,'columns':_0x21e11c,'footerCalcs':_0x363d17,'initialSort':{'key':_0x1a02eb(0xbe),'dir':_0x1a02eb(0x12e)}});},async 'runReport'(){const _0x340f53=_0x556e51;_0x54d453[_0x340f53(0x196)](0xe);const _0x207379=_0x4304a5['getToken']();if(!_0x207379)throw new Error(_0x340f53(0x1b5));this[_0x340f53(0x185)]=document['getElementById'](_0x340f53(0x136))['value'];const _0x3fd232=Math[_0x340f53(0xc4)]((new Date(this[_0x340f53(0x185)])-new Date(_0x3c9b58[_0x340f53(0xfd)]))/_0x3c9b58[_0x340f53(0x16c)]),_0x54583f=_0x3c9b58[_0x340f53(0x153)]+_0x3fd232*_0x3c9b58[_0x340f53(0x16c)];_0x54d453[_0x340f53(0x1f4)](0x0,_0x340f53(0x18a));let _0x18e89e=[];for(let _0x7239a9=0x1;;_0x7239a9++){const _0x1c8c9b=_0x340f53(0x83)+_0x7239a9+_0x340f53(0xe4)+_0x3c9b58[_0x340f53(0x1fa)],_0x5cc15c=await _0x4304a5[_0x340f53(0xf8)](_0x1c8c9b,{'headers':{'authorization':_0x207379}},_0x340f53(0xcc)+_0x7239a9),_0x2bedc0=_0x5cc15c?.['data']?.['list']||[];if(_0x2bedc0[_0x340f53(0x158)]>0x0)_0x18e89e[_0x340f53(0x1a6)](..._0x2bedc0);if(!_0x5cc15c?.['data']||_0x2bedc0[_0x340f53(0x158)]<_0x3c9b58[_0x340f53(0x1fa)])break;await _0x4304a5[_0x340f53(0x173)](this['REQUEST_DELAY']);}const _0x182f9c=_0x18e89e[_0x340f53(0x1fe)](_0x457310=>_0x457310[_0x340f53(0x143)]!==0x2);if(_0x182f9c[_0x340f53(0x158)]===0x0){this[_0x340f53(0x157)]=[],this['displayResults'](),_0x54d453[_0x340f53(0x97)]['resultsContainer'][_0x340f53(0xa8)]=_0x340f53(0x122)+this[_0x340f53(0x185)]+_0x340f53(0x191);return;}const _0x3b92af=_0x182f9c['map'](_0x2008ca=>_0x2008ca[_0x340f53(0x19f)]),_0x56a4c4=new Map(),_0x310211=Math[_0x340f53(0x108)](_0x3b92af[_0x340f53(0x158)]/this[_0x340f53(0x1e5)]);let _0x2e9768=0x0;const _0x261637=()=>{const _0x4d5006=_0x340f53;_0x2e9768++;const _0x34ef86=_0x2e9768/_0x310211*0x64;_0x54d453[_0x4d5006(0x1f4)](_0x34ef86,_0x4d5006(0xcf)+_0x2e9768+'/'+_0x310211);},_0x1707b0=[];for(let _0x41a20e=0x0;_0x41a20e<_0x3b92af['length'];_0x41a20e+=this[_0x340f53(0x1e5)]){const _0xb75e14=_0x3b92af[_0x340f53(0x86)](_0x41a20e,_0x41a20e+this[_0x340f53(0x1e5)]),_0x154891='https://admin.gdspay.xyz/api/gateway/v1/statistics/summary/merchant?merchantIds=['+_0xb75e14[_0x340f53(0x1ac)](',')+_0x340f53(0x1c8)+_0x54583f+'&monthly=false';_0x1707b0[_0x340f53(0x1a6)](()=>_0x4304a5[_0x340f53(0xf8)](_0x154891,{'headers':{'authorization':_0x207379}},_0x340f53(0xe6)));}const _0x46f327=await _0x4304a5[_0x340f53(0x115)](_0x1707b0,_0x3c9b58[_0x340f53(0x137)],_0x261637);_0x46f327['forEach'](_0x497bd3=>{const _0x37f060=_0x340f53;_0x497bd3['status']==='fulfilled'&&_0x497bd3[_0x37f060(0x134)]?.[_0x37f060(0x9a)]?.[_0x37f060(0x10f)]&&_0x497bd3[_0x37f060(0x134)]['data'][_0x37f060(0x10f)]['forEach'](_0xbf3202=>_0x56a4c4[_0x37f060(0x103)](_0xbf3202[_0x37f060(0x19f)],_0xbf3202));});const _0x431953={'paymentNumberInitiate':0x0,'paymentNumberComplete':0x0,'paymentAmountComplete':0x0,'payoutNumberInitiate':0x0,'payoutNumberComplete':0x0,'payoutAmountComplete':0x0,'commissionFlow':0x0,'balanceFlow':0x0};this[_0x340f53(0x157)]=_0x182f9c[_0x340f53(0x96)](_0x413862=>{const _0x412d18=_0x340f53,_0x294418=_0x56a4c4[_0x412d18(0x144)](_0x413862[_0x412d18(0x19f)])||_0x431953,_0x34efe7=_0x294418[_0x412d18(0x202)]/0x64,_0x3fce5a=_0x294418[_0x412d18(0x17e)],_0x53e9c2=_0x294418[_0x412d18(0xa5)]/0x64,_0x14b4e9=_0x294418[_0x412d18(0xeb)],_0x40f6a2=_0x294418['commissionFlow']/0x64,_0x2a2c0c=_0x294418[_0x412d18(0xcd)]/0x64,_0xcd7349=_0x34efe7-_0x53e9c2-_0x40f6a2,_0x106bfd=_0x2a2c0c-_0xcd7349;return{'商户ID':_0x413862[_0x412d18(0x19f)],'商户名称':_0x413862['merchantName'],'账户状态':_0x3c9b58[_0x412d18(0x11a)][_0x413862[_0x412d18(0x1bf)]]||'未知','代收成功(笔)':_0x3fce5a,'代收成功\x20(₹)':_0x34efe7,'代收均额\x20(₹)':_0x3fce5a>0x0?_0x34efe7/_0x3fce5a:0x0,'代收成功率':_0x4304a5[_0x412d18(0x17b)](_0x3fce5a,_0x294418[_0x412d18(0x1a3)]),'代付成功(笔)':_0x14b4e9,'代付成功\x20(₹)':_0x53e9c2,'代付均额\x20(₹)':_0x14b4e9>0x0?_0x53e9c2/_0x14b4e9:0x0,'代付成功率':_0x4304a5[_0x412d18(0x17b)](_0x14b4e9,_0x294418['payoutNumberInitiate']),'费率':_0x4304a5['safeToFixed'](_0x413862[_0x412d18(0x99)]/0xa)+_0x412d18(0x13d)+_0x4304a5['safeToFixed'](_0x413862[_0x412d18(0x156)]/0xa)+'%\x20+\x20₹'+_0x4304a5[_0x412d18(0x152)](_0x413862[_0x412d18(0x13f)]/0x64),'当日佣金\x20(₹)':_0x40f6a2,'账变\x20(₹)':_0x2a2c0c,'核对账变\x20(₹)':_0xcd7349,'差额\x20(₹)':_0x106bfd,'可用余额\x20(₹)':_0x413862[_0x412d18(0x15c)]/0x64};}),this[_0x340f53(0xa6)]();}},_0x3810a8['accountMerchantRate']={'masterResultData':[],'currentFilteredData':[],'currentReportDate':'','BATCH_SIZE':0x32,'initControls'(){const _0x597cef=_0x556e51,{controlsDiv:_0x25be4d,resultsContainer:_0x5425ca}=_0x54d453[_0x597cef(0x97)];_0x25be4d[_0x597cef(0xd2)][_0x597cef(0x186)]=_0x597cef(0x165),_0x5425ca['innerHTML']='',_0x25be4d[_0x597cef(0xa8)]=_0x597cef(0x79)+_0x4304a5[_0x597cef(0xf2)]()+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22table-search-input\x22\x20placeholder=\x22搜索账户/商户/编号...\x22\x20style=\x22visibility:\x20hidden;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-generation-btn\x22\x20class=\x22action-btn\x22>生成报表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22screenshot-btn\x22\x20class=\x22action-btn\x22\x20disabled>截图</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x597cef(0x92)](_0x597cef(0x145))['addEventListener'](_0x597cef(0x95),()=>_0x10a6d7(this,this[_0x597cef(0x195)])),document['getElementById']('table-search-input')['addEventListener'](_0x597cef(0x19a),_0x6c1355=>this['filterTable'](_0x6c1355[_0x597cef(0x10b)][_0x597cef(0x134)]));},'filterTable'(_0x478783){const _0x24ca0c=_0x556e51,_0x3f3d59=_0x478783['toLowerCase']();this[_0x24ca0c(0x1d0)]=this[_0x24ca0c(0x157)][_0x24ca0c(0x1fe)](_0x2b8e35=>{const _0x571455=_0x24ca0c;return Object['values'](_0x2b8e35)[_0x571455(0xe9)](_0x258d48=>String(_0x258d48)[_0x571455(0x1b0)]()['includes'](_0x3f3d59));}),this[_0x24ca0c(0x1a2)](_0x24ca0c(0x9c)+this['currentReportDate']+')',this[_0x24ca0c(0x1d0)]);},'renderTable'(_0x1aaf78,_0x1d2a8d){const _0x4dc785=_0x556e51,_0x588344=[{'key':'商户编号','label':_0x4dc785(0x1bd),'type':_0x4dc785(0xd9)},{'key':_0x4dc785(0x77),'label':_0x4dc785(0x77),'type':_0x4dc785(0xd9)},{'key':_0x4dc785(0x1ba),'label':'商户名称','type':_0x4dc785(0xd9)},{'key':_0x4dc785(0x131),'label':'成功笔数','type':_0x4dc785(0x1a9)},{'key':_0x4dc785(0x1e9),'label':_0x4dc785(0x1e9),'type':_0x4dc785(0x1a9)},{'key':_0x4dc785(0x1ab),'label':_0x4dc785(0x1ab),'type':_0x4dc785(0x106),'thresholds':{'high':0x50,'medium':0x32}}];_0x2f0810[_0x4dc785(0x116)]({'container':_0x54d453[_0x4dc785(0x97)]['resultsContainer'],'title':_0x1aaf78,'data':_0x1d2a8d,'columns':_0x588344,'initialSort':{'key':'商户编号','dir':_0x4dc785(0x13c)}});},async 'runReport'(){const _0x5cb3bd=_0x556e51,_0x2e54a5=document[_0x5cb3bd(0x92)](_0x5cb3bd(0x136)),_0x3e2c7f=document[_0x5cb3bd(0x92)](_0x5cb3bd(0x177));_0x54d453[_0x5cb3bd(0x196)](0x6);const _0x5c291c=_0x4304a5[_0x5cb3bd(0xa2)]();if(!_0x5c291c)throw new Error(_0x5cb3bd(0x1b5));this[_0x5cb3bd(0x185)]=_0x2e54a5[_0x5cb3bd(0x134)];const _0x548722=Math['round']((new Date(this['currentReportDate'])-new Date(_0x3c9b58[_0x5cb3bd(0xfd)]))/_0x3c9b58[_0x5cb3bd(0x16c)]),_0x119e2e=_0x3c9b58[_0x5cb3bd(0x153)]+_0x548722*_0x3c9b58[_0x5cb3bd(0x16c)],_0x11b969=_0x5cb3bd(0x204);_0x54d453[_0x5cb3bd(0x1f4)](0x0,'正在初始化...');const _0x1cdc59=JSON[_0x5cb3bd(0xc0)]({'dateBegin':_0x119e2e,'dateEnd':_0x119e2e,'page':0x1,'pageSize':_0x3c9b58[_0x5cb3bd(0x1fa)]}),_0x56e63b={'method':'POST','headers':{'accept':_0x5cb3bd(0x135),'content-type':'application/json','authorization':_0x5c291c},'body':_0x1cdc59},_0x37bce3=await _0x4304a5['fetchWithRetry'](_0x11b969,_0x56e63b,_0x5cb3bd(0xf9)),_0x28e614=_0x37bce3?.[_0x5cb3bd(0x9a)]?.[_0x5cb3bd(0x162)]?.[_0x5cb3bd(0x1b2)]||0x0;if(_0x28e614===0x0){this['masterResultData']=[],this[_0x5cb3bd(0x1d0)]=[],this['renderTable']('账户-商户成功率\x20('+this[_0x5cb3bd(0x185)]+')',[]);return;}const _0x583df1=_0x37bce3[_0x5cb3bd(0x9a)][_0x5cb3bd(0x10f)]||[],_0x3eeecf=Math[_0x5cb3bd(0x108)](_0x28e614/_0x3c9b58[_0x5cb3bd(0x1fa)]);let _0x1b4957=0x1;_0x54d453[_0x5cb3bd(0x1f4)](_0x1b4957/_0x3eeecf*0x64,_0x5cb3bd(0x1d2)+_0x3eeecf+'\x20页');if(_0x3eeecf>0x1){const _0x1b00bf=()=>{const _0x65da17=_0x5cb3bd;_0x1b4957++,_0x54d453[_0x65da17(0x1f4)](_0x1b4957/_0x3eeecf*0x64,_0x65da17(0x1a5)+_0x1b4957+'\x20/\x20'+_0x3eeecf+'\x20页');},_0x23815a=Array['from']({'length':_0x3eeecf-0x1},(_0x261dcf,_0x4bb34e)=>{const _0x41e87d=_0x4bb34e+0x2;return()=>{const _0x183dc7=_0x4bfe,_0x3311a6=JSON[_0x183dc7(0xc0)]({'dateBegin':_0x119e2e,'dateEnd':_0x119e2e,'page':_0x41e87d,'pageSize':_0x3c9b58[_0x183dc7(0x1fa)]}),_0x2910f4={'method':'POST','headers':{'accept':_0x183dc7(0x135),'content-type':_0x183dc7(0x135),'authorization':_0x5c291c},'body':_0x3311a6};return _0x4304a5[_0x183dc7(0xf8)](_0x11b969,_0x2910f4,_0x183dc7(0x93)+_0x41e87d);};}),_0x31d0b3=await _0x4304a5['runPromisesWithConcurrency'](_0x23815a,_0x3c9b58[_0x5cb3bd(0x137)],_0x1b00bf);_0x31d0b3['forEach'](_0x3bdb11=>{const _0x561567=_0x5cb3bd;_0x3bdb11[_0x561567(0x1bf)]===_0x561567(0x1a4)&&_0x3bdb11[_0x561567(0x134)]?.[_0x561567(0x9a)]?.[_0x561567(0x10f)]&&_0x583df1[_0x561567(0x1a6)](..._0x3bdb11['value'][_0x561567(0x9a)][_0x561567(0x10f)]);});}const _0x16e5d7={};for(const _0x355cde of _0x583df1){const {tripartiteAccount:_0xc0ea7c,merchantName:_0x5da59a,merchantNo:_0x4d0a7d,status:_0x3b7450}=_0x355cde;if(!_0xc0ea7c||!_0x5da59a)continue;const _0x32a731=_0xc0ea7c+'|'+_0x5da59a+'|'+_0x4d0a7d;!_0x16e5d7[_0x32a731]&&(_0x16e5d7[_0x32a731]={'tripartiteAccount':_0xc0ea7c,'merchantName':_0x5da59a,'merchantNo':_0x4d0a7d,'total':0x0,'success':0x0});_0x16e5d7[_0x32a731][_0x5cb3bd(0x1b2)]++;if(_0x3b7450===0x3)_0x16e5d7[_0x32a731]['success']++;}this[_0x5cb3bd(0x157)]=Object['values'](_0x16e5d7)['map'](_0x57affd=>({'商户编号':_0x57affd[_0x5cb3bd(0x18e)],'银行账户':_0x57affd[_0x5cb3bd(0x1ad)],'商户名称':_0x57affd[_0x5cb3bd(0xfa)],'成功笔数':_0x57affd[_0x5cb3bd(0x1f9)],'总笔数':_0x57affd[_0x5cb3bd(0x1b2)],'成功率':_0x4304a5[_0x5cb3bd(0x17b)](_0x57affd['success'],_0x57affd[_0x5cb3bd(0x1b2)])})),this[_0x5cb3bd(0x1d0)]=[...this[_0x5cb3bd(0x157)]],_0x3e2c7f['style'][_0x5cb3bd(0x7a)]=_0x5cb3bd(0x1d5),this[_0x5cb3bd(0xb2)]('');}},_0x3810a8[_0x556e51(0x114)]={'masterResultData':[],'currentFilteredData':[],'currentReportDate':'','REQUEST_DELAY':0x64,'initControls'(){const _0x37a35e=_0x556e51,{controlsDiv:_0x2a896d,resultsContainer:_0x1b358b}=_0x54d453[_0x37a35e(0x97)];_0x2a896d['style'][_0x37a35e(0x186)]='1px\x20solid\x20#eee',_0x1b358b[_0x37a35e(0xa8)]='',_0x2a896d[_0x37a35e(0xa8)]=_0x37a35e(0x79)+_0x4304a5['getTodayString']()+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22transfer-account-filter\x22\x20placeholder=\x22筛选转出账户(多个用,分隔)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-generation-btn\x22\x20class=\x22action-btn\x22>生成报表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22screenshot-btn\x22\x20class=\x22action-btn\x22\x20disabled>截图</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x37a35e(0x92)](_0x37a35e(0x145))[_0x37a35e(0xec)](_0x37a35e(0x95),()=>_0x10a6d7(this,this[_0x37a35e(0x195)])),document[_0x37a35e(0x92)](_0x37a35e(0xe0))[_0x37a35e(0xec)]('input',_0x572c86=>this[_0x37a35e(0xb2)](_0x572c86[_0x37a35e(0x10b)][_0x37a35e(0x134)]));},'filterTable'(_0x417ad8){const _0x14552d=_0x556e51,_0x4bd3dd=_0x417ad8[_0x14552d(0x1b0)]()['split'](',')['map'](_0x44cd9e=>_0x44cd9e[_0x14552d(0x121)]())[_0x14552d(0x1fe)](_0x41ecdf=>_0x41ecdf);_0x4bd3dd[_0x14552d(0x158)]===0x0?this[_0x14552d(0x1d0)]=[...this[_0x14552d(0x157)]]:this['currentFilteredData']=this[_0x14552d(0x157)][_0x14552d(0x1fe)](_0x2cbd61=>{const _0x447f5c=_0x14552d,_0x2e87e7=_0x2cbd61[_0x447f5c(0x94)][_0x447f5c(0x1b0)]();return _0x4bd3dd['some'](_0xa9b20a=>_0x2e87e7[_0x447f5c(0x150)](_0xa9b20a));}),this[_0x14552d(0x1a2)](_0x14552d(0x1f5)+this[_0x14552d(0x185)]+')',this['currentFilteredData']);},'renderTable'(_0x320582,_0x27f74f){const _0x57b30d=_0x556e51,_0x18f202=[{'key':_0x57b30d(0x94),'label':_0x57b30d(0x94),'type':_0x57b30d(0xd9)},{'key':_0x57b30d(0x1fc),'label':_0x57b30d(0x1fc),'type':_0x57b30d(0x1c4),'class':'col-profit'},{'key':_0x57b30d(0xf5),'label':_0x57b30d(0xf5),'type':_0x57b30d(0x1c4),'class':_0x57b30d(0x80)},{'key':_0x57b30d(0x163),'label':_0x57b30d(0x163),'type':'currency','class':_0x57b30d(0x146)},{'key':_0x57b30d(0x1c9),'label':_0x57b30d(0x1c9),'type':_0x57b30d(0x1c4),'class':_0x57b30d(0x80)},{'key':_0x57b30d(0x111),'label':'RTGS\x20成功\x20(₹)','type':_0x57b30d(0x1c4),'class':'col-profit'},{'key':_0x57b30d(0x1e3),'label':_0x57b30d(0x1e3),'type':_0x57b30d(0x1c4),'class':_0x57b30d(0x80)},{'key':_0x57b30d(0x1af),'label':_0x57b30d(0x1af),'type':_0x57b30d(0x1c4),'highlight':!![],'class':_0x57b30d(0x146)}],_0x4ded87={'label':_0x1013aa=>_0x57b30d(0x130)+_0x1013aa+'\x20账户)','keys':Object['keys'](_0x3c9b58[_0x57b30d(0xae)])[_0x57b30d(0x91)](_0xc688ce=>{const _0x5b2464=_0x57b30d,_0x4b2365=_0x3c9b58['TRANSFER_MODE_MAP'][_0xc688ce];return[_0x4b2365+_0x5b2464(0xb6),_0x4b2365+'\x20失败\x20(₹)'];})[_0x57b30d(0x197)](['成功总金额\x20(₹)'])};_0x2f0810[_0x57b30d(0x116)]({'container':_0x54d453['elements'][_0x57b30d(0x85)],'title':_0x320582,'data':_0x27f74f,'columns':_0x18f202,'footerCalcs':_0x4ded87,'initialSort':{'key':_0x57b30d(0x94),'dir':_0x57b30d(0x13c)}});},async 'runReport'(){const _0xb8d176=_0x556e51;_0x54d453['showSkeletonLoader'](0x8);const _0x153ff2=_0x4304a5[_0xb8d176(0xa2)]();if(!_0x153ff2)throw new Error('无法获取Token，请重新登录。');this[_0xb8d176(0x185)]=document[_0xb8d176(0x92)](_0xb8d176(0x136))[_0xb8d176(0x134)];const _0x20f51f=Math[_0xb8d176(0xc4)]((new Date(this[_0xb8d176(0x185)])-new Date(_0x3c9b58[_0xb8d176(0xfd)]))/_0x3c9b58[_0xb8d176(0x16c)]),_0x191a6e=_0x3c9b58['BASE_TIMESTAMP']+_0x20f51f*_0x3c9b58[_0xb8d176(0x16c)],_0x1c237f=[];for(let _0x4b6774=0x1;;_0x4b6774++){const _0x1abacf='https://admin.gdspay.xyz/api/tripartite/v1/transfer/list?dateBegin='+_0x191a6e+_0xb8d176(0x1a1)+_0x191a6e+_0xb8d176(0x18b)+_0x4b6774+_0xb8d176(0xe4)+_0x3c9b58[_0xb8d176(0x1fa)],_0xd424f3=await _0x4304a5[_0xb8d176(0xf8)](_0x1abacf,{'headers':{'authorization':_0x153ff2}},_0xb8d176(0x172)+_0x4b6774),_0x136a01=_0xd424f3?.[_0xb8d176(0x9a)]?.['list']||[];if(_0x136a01[_0xb8d176(0x158)]>0x0)_0x1c237f[_0xb8d176(0x1a6)](..._0x136a01);if(!_0xd424f3?.['data']?.['page']||_0x136a01[_0xb8d176(0x158)]<_0x3c9b58[_0xb8d176(0x1fa)])break;await _0x4304a5[_0xb8d176(0x173)](this['REQUEST_DELAY']);}if(_0x1c237f['length']===0x0){this[_0xb8d176(0x157)]=[],this[_0xb8d176(0x1d0)]=[],this[_0xb8d176(0x1a2)](_0xb8d176(0x1f5)+this[_0xb8d176(0x185)]+')',[]);return;}const _0x46a766={};for(const _0x195ef5 of _0x1c237f){const {accountName:_0x138359,status:_0x4b8a26,transferMode:_0x4b14df,amount:_0xddabef}=_0x195ef5;if(!_0x138359)continue;!_0x46a766[_0x138359]&&(_0x46a766[_0x138359]={'转出账户':_0x138359,'成功总金额\x20(₹)':0x0},Object[_0xb8d176(0x1a7)](_0x3c9b58[_0xb8d176(0xae)])[_0xb8d176(0x11c)](_0x39d6c0=>{const _0x585cfe=_0xb8d176;_0x46a766[_0x138359][_0x39d6c0+_0x585cfe(0xb6)]=0x0,_0x46a766[_0x138359][_0x39d6c0+_0x585cfe(0x1b9)]=0x0;}));const _0x3091a6=_0x3c9b58[_0xb8d176(0xae)][_0x4b14df];if(!_0x3091a6)continue;const _0x1504aa=_0x4b8a26===0x3?'成功':_0x4b8a26===0x4?'失败':null;if(!_0x1504aa)continue;const _0x596b4e=_0xddabef/0x64;_0x46a766[_0x138359][_0x3091a6+'\x20'+_0x1504aa+'\x20(₹)']+=_0x596b4e,_0x4b8a26===0x3&&(_0x46a766[_0x138359]['成功总金额\x20(₹)']+=_0x596b4e);}this[_0xb8d176(0x157)]=Object[_0xb8d176(0x1a7)](_0x46a766),this['currentFilteredData']=[...this['masterResultData']],this[_0xb8d176(0xb2)]('');}};function _0x34c094(){const _0x4a61e1=_0x556e51;_0x54d453[_0x4a61e1(0x78)]();const _0x7d9d65=_0x4a61e1(0x170);fetch(_0x7d9d65,{'cache':_0x4a61e1(0xab)})[_0x4a61e1(0x1ee)](_0x4c1425=>{const _0x36e7fd=_0x4a61e1;if(_0x4c1425['ok'])return _0x4c1425[_0x36e7fd(0x90)]();throw new Error('无法获取远程配置，响应状态码:\x20'+_0x4c1425[_0x36e7fd(0x1bf)]);})[_0x4a61e1(0x1ee)](_0x688252=>{const _0x36099b=_0x4a61e1;_0x688252[_0x36099b(0x11e)]===![]?(console[_0x36099b(0x167)](_0x36099b(0x17a)),_0x54d453['elements']['statsButton']&&(_0x54d453['elements']['statsButton'][_0x36099b(0xd2)][_0x36099b(0xfb)]=_0x36099b(0xa7))):console[_0x36099b(0x167)](_0x36099b(0x181));})['catch'](_0x2566cc=>{const _0x434bf8=_0x4a61e1;console[_0x434bf8(0x206)]('获取远程配置失败，脚本将保持激活状态:',_0x2566cc[_0x434bf8(0xe1)]);});}_0x34c094();}()));function _0x4bfe(_0x3c7f94,_0x40d161){const _0x32d46a=_0x32d4();return _0x4bfe=function(_0x4bfe60,_0x3216bb){_0x4bfe60=_0x4bfe60-0x76;let _0x5de1ac=_0x32d46a[_0x4bfe60];return _0x5de1ac;},_0x4bfe(_0x3c7f94,_0x40d161);}function _0x32d4(){const _0xad60e8=['merchantName','display','核对账变\x20(₹)','BASE_DATE_STR','</b>','<div\x20class=\x22skeleton-row\x22>','tbody','459070NdjgcD','代付均额\x20(₹)','set','format','col-primary-text','rate','html2canvas','ceil','formatCell','fromEntries','target','initControls','RETRY_DELAY','call','list','highlight','RTGS\x20成功\x20(₹)','104YwAzoB','<td\x20class=\x22','transfer','runPromisesWithConcurrency','createSortableTable','stats-modal','NumberFormat','loadHtml2Canvas','STATUS_MAP','secondary','forEach','报表生成失败:','is_active','已复制:\x20<br><b>','captureAndCopyToClipboard','trim','<h1>商户统计\x20(','overlay','UPI流水','progress-text','代付成功\x20(₹)',')\x20-\x20','key','screenshot-btn','TG补单','生成中...','col-secondary','4OuYoVO','desc','function','总计\x20(','成功笔数','转入金额','[第\x20','value','application/json','stats-date-input','CONCURRENCY_LIMIT','undefined','en-US','IMPS','无法加载\x20html2canvas\x20库','asc','%\x20/\x20','<label\x20class=\x22status-filter-label\x22><input\x20type=\x22checkbox\x22\x20data-status=\x22','payoutCommissionExtra','代收成功-笔','contextmenu','账户状态','channelGroupId','get','start-generation-btn','col-profit','</label>','col-rate','src','654nmUpNr','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22filter-label\x22>账户状态:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22col-text\x22>','span','929316GzCSoq','showCopyTooltip','includes','补单率','safeToFixed','BASE_TIMESTAMP','转出金额','已复制!','payoutCommissionRate','masterResultData','length','Channel\x20ID','<h2>发生严重错误</h2><p>','text/css','availableBalance','replace','thead','Payment-p','change','TG补单-金','page','NEFT\x20成功\x20(₹)','getItem','1px\x20solid\x20#eee','count','log','label','<div\x20class=\x22skeleton-cell\x22\x20style=\x22width:\x20','<tr>','Request','ONE_DAY_MS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22report-selection-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22report-selection-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22select-reconciliation-report\x22\x20class=\x22report-selection-btn\x22>按银行账户统计</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22select-merchant-report\x22\x20class=\x22report-selection-btn\x22>按商户统计</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22report-selection-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22select-account-merchant-rate-report\x22\x20class=\x22report-selection-btn\x22>账户-商户成功率</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22select-transfer-report\x22\x20class=\x22report-selection-btn\x22>划转统计</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','medium','已发送','https://gist.githubusercontent.com/lkm888/b71866f0915cacf88fa2b6e3f7e06b37/raw/webcfg.json','append','划转列表\x20p','sleep','formatInteger','script','fill','table-search-input','商户统计\x20(','https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js','根据远程配置，禁用脚本功能。','calculateRate','1130giUXCf','rate-medium','paymentNumberComplete','px;\x22></div>','<p>没有找到','远程配置校验通过，脚本已激活。','closest','\x20次尝试]\x20','body','currentReportDate','borderBottom','符合条件','补单金额','clientY','阶段\x201/2:\x20获取所有商户列表...','&page=','Merchant\x20No','<h1>','merchantNo','from','代付成功(笔)',')</h1><p>没有找到符合条件的商户\x20(已排除\x20channelGroupId=2)。</p>','\x20请求失败:','endsWith','remove','runReport','showSkeletonLoader','concat','HTTP\x20Error:\x20','querySelectorAll','input','keys','div','formatCurrency','matches','merchantId','</div>','&dateEnd=','renderTable','paymentNumberInitiate','fulfilled','正在处理:\x20','push','values','tooltipTimeout','integer','<td></td>','成功率','join','tripartiteAccount','POST','成功总金额\x20(₹)','toLowerCase','thresholds','total','placeholder','controlsDiv','无法获取Token，请重新登录。',')</h1><p>在指定日期没有找到任何数据。</p>','代收成功率','entries','\x20失败\x20(₹)','商户名称','upiAccountSet','class','商户编号','sort-asc','status','<div\x20id=\x22progress-container\x22><div\x20id=\x22progress-bar\x22><div\x20id=\x22progress-bar-inner\x22></div></div><div\x20id=\x22progress-text\x22>正在初始化...</div></div>','rate-high','filter-active-merchants','截取中...','currency',']\x20API响应格式错误','6138dDYbqO','toBlob',']&dateBegin=','NEFT\x20失败\x20(₹)','statsButton','onerror','未知API错误','checked','classList','add','currentFilteredData','write','正在处理:\x201\x20/\x20','代收成功\x20(₹)','[data-status]:checked','visible','totalAmount','Payout-p','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22toggle-label\x22\x20id=\x22view-toggle-label\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22show-all-accounts-toggle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20显示所有账户\x20(完整模式)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-generation-btn\x22\x20class=\x22action-btn\x22>生成报表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22screenshot-btn\x22\x20class=\x22action-btn\x22\x20disabled>截图</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','progress-bar-inner','完整模式','39885ryrizy','all','未匹配-笔','toUpperCase','image/png','toFixed','\x22\x20checked>','RTGS\x20失败\x20(₹)','MAX_RETRIES','STATS_API_BATCH_SIZE','px;\x20flex:\x201\x201\x20','closeBtn','65nCoxsC','总笔数','injectGlobalStyles','[data-status],\x20#filter-active-merchants','appendChild','stats-close-btn','then','col-highlight','-report','的数据。</p>','status-cell-','attachEventListeners','updateProgressBar','划转统计\x20(','preventDefault','processPayoutData','random','success','PAGE_SIZE','商户ID','IMPS\x20成功\x20(₹)','TG补单-笔','filter','https://admin.gdspay.xyz/api/gateway/v1/payout/list','#show-all-accounts-toggle','createFetchPromise','paymentAmountComplete','localeCompare','https://admin.gdspay.xyz/api/gateway/v1/payment/list','innerText','warn','modal','formatPercent','未匹配','html2canvasPromise','fetchAllPaginatedData','UPI','gds_last_report_type','RTGS','银行账户','init','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-selection-btn\x22>↩\x20返回</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22stats-date-input\x22\x20style=\x22font-weight:\x20bold;\x22>选择日期:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20id=\x22stats-date-input\x22\x20value=\x22','visibility','bind','总笔数\x20(UPI)','当日佣金\x20(₹)','</h1>','text','col-loss','reconciliation','table','https://admin.gdspay.xyz/api/merchant/v1/list?page=','html','resultsContainer','slice','clipboard','processReferenceData','代付成功率','):\x20','high','代收已发送-笔','总金额\x20(UPI)','showReportSelection','back-to-selection-btn','json','flatMap','getElementById','支付列表\x20p','转出账户','click','map','elements','stats-overlay','paymentCommissionRate','data','createBaseUI','账户-商户成功率\x20(','txnDescription','代收均额\x20(₹)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22filter-label\x22><input\x20type=\x22checkbox\x22\x20id=\x22filter-active-merchants\x22\x20checked>仅显示活跃商户</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-generation-btn\x22\x20class=\x22action-btn\x22>生成报表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22screenshot-btn\x22\x20class=\x22action-btn\x22\x20disabled>截图</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','\x20for\x20','getToken','N/A','stats-results-container','payoutAmountComplete','displayResults','none','innerHTML','merchant','收银台-金','no-cache','83209yyNUwx','onload','TRANSFER_MODE_MAP','show-all-accounts-toggle','copy-tooltip','HTML2CANVAS_URL','filterTable',']\x20所有重试均失败。','onclick','clientX','\x20成功\x20(₹)','code','sort','截图或复制失败:','银行账户统计\x20(','error','</td>','Payment\x20List','账变\x20(₹)','Reference-p','stringify','#ffffff','代收成功(笔)','button','round','收银台-笔','postProcess','LAST_REPORT_KEY','find','4845445UKDSFM','col-number','isArray','商户列表\x20p','balanceFlow','toggleView','阶段\x202/2:\x20批次\x20','成功率\x20(自动)','未匹配-金','style','type','收银台','\x20账户)','<div\x20class=\x22skeleton-table\x22>','dir','可用余额\x20(₹)','text-primary','差额\x20(₹)','rate-low','toISOString','成功金额\x20(自动)','number','processPaymentData','transfer-account-filter','message','自动-笔','reduce','&pageSize=','percent','每日汇总批次','createElement','652vwNXiP','some','msg','payoutNumberComplete','addEventListener','2025-06-15','MATCH_SOURCE_MAP','</p><p\x20style=\x22margin-top:10px;\x20color:\x20#666;\x22><b>常见原因：</b>登录凭证(Token)已过期。请尝试<b>退出并重新登录</b>，稍后再试。</p>','channelId','copyTooltip','getTodayString','自动-金','9123kavZGG','IMPS\x20失败\x20(₹)','head','截图失败:\x20','fetchWithRetry','支付列表\x20p1'];_0x32d4=function(){return _0xad60e8;};return _0x32d4();}
