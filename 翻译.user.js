// ==UserScript==
// @name         GDSPay Admin Helper (Translate & Copy)
// @namespace    http://tampermonkey.net/
// @version      1.9 // Transfer page: Click Amount to copy Amount + Ref. Click Ref to copy Ref.
// @description  Replaces Chinese text on payout pages (with toggle), and adds copy-on-click for amounts and account numbers on the transfer list page. Now robust against column changes.
// @author       Your Name
// @match        https://admin.gdspay.xyz/payout/*
// @match        https://admin.gdspay.xyz/transfe*
// @grant        none
// @run-at       document-idle
// @updateURL    https://raw.githubusercontent.com/lkm888/tampermonkey/main/翻译.user.js
// @downloadURL  https://raw.githubusercontent.com/lkm888/tampermonkey/main/翻译.user.js
// ==/UserScript==
function _0x356a(_0x593ac5,_0x244013){const _0x371d4b=_0x371d();return _0x356a=function(_0x356aed,_0x479e17){_0x356aed=_0x356aed-0x84;let _0x19ac86=_0x371d4b[_0x356aed];return _0x19ac86;},_0x356a(_0x593ac5,_0x244013);}function _0x371d(){const _0x9ce6ef=['entries','1359340zPMnMQ','opacity','td.ant-table-cell','test','style','STYLE','4279980FireFL','querySelector','Payee\x20Name','34LuVaVh','Ref\x20Copied:\x20','#721c24','gdspay-lang-toggle-button','set','top','161833YzgxQU','nodeType','25144kVmjZk','sans-serif','addedNodes','#f8d7da','div','closest','Copied!','trim','join','remove','gdspay-transfer-copy-styles','none','IFRAME','getBoundingClientRect','GDSPay\x20Helper:\x20Cleaning\x20up\x20from\x20previous\x20page.','indexOf','GDSPay\x20Helper:\x20Found\x20\x27交易参考号\x27\x20column\x20at\x20index\x20','5px','length','white','target','dataset','tagName','left','Currency','GDSPay\x20Helper:\x20Initializing\x20for\x20Transfer\x20Page.','clear','pointer','offsetHeight','slice','clipboard','Closing\x20Time','.ant-table-tbody\x20>\x20tr\x20>\x20td:nth-child(','.00','Completion\x20Time','交易参考号','nodeValue','20px','pathname','offsetWidth','.ant-table-thead\x20th','click','Copied:\x20','Payee\x20Mobile','Sending\x20Time','Transaction\x20Reference\x20Number','108uLAPDy','getElementById','GDSPay\x20Helper:\x20Could\x20not\x20find\x20any\x20of\x20the\x20target\x20columns\x20(\x27金额\x27,\x20\x27收款账号\x27,\x20\x27交易参考号\x27).','Creation\x20Time','querySelectorAll','parentNode','GDSPay\x20Helper:\x20Initializing\x20for\x20Payout\x20Page.','map','scrollX','GDSPay\x20Helper:\x20Styles\x20injected\x20for\x20clickable\x20columns.','Amount\x20&\x20Ref\x20Copied!','nextElementSibling','NOSCRIPT','self','writeText','log','forEach','3px','0\x202px\x205px\x20rgba(0,0,0,0.2)','get','BUTTON','head\x20>\x20title','ELEMENT_NODE','opacity\x200.3s\x20ease-in-out','location','.ant-descriptions-item-label','height','.ant-table-tbody','fixed','23985764iZtURL','Copy\x20failed!','error','216wbYWuK','replace','appendChild','copyListenerAttached','type','innerHTML','IFSC','16534hmEEnW','957010QXSAJc','#d4edda','#007bff','Fee\x20(Merchant/Channel)','children','Amount','childNodes','显示英文','head','SCRIPT','push','5px\x2010px','Additional\x20Information','Payee\x20Account','147WXBVZF','cursor','delete','width','keys','GDSPay\x20Helper:\x20Copy\x20failed','TEXT_NODE','includes','14px','body','12px','removeEventListener','textContent','assign','observe','has','nowrap','Risk\x20Control\x20Flag','addEventListener','Payment\x20Method','显示原文'];_0x371d=function(){return _0x9ce6ef;};return _0x371d();}(function(_0x2aba6d,_0x1a6989){const _0x25c7c4=_0x356a,_0x17b09a=_0x2aba6d();while(!![]){try{const _0x5a9e90=-parseInt(_0x25c7c4(0xec))/0x1*(parseInt(_0x25c7c4(0xbe))/0x2)+parseInt(_0x25c7c4(0xcd))/0x3*(parseInt(_0x25c7c4(0xf4))/0x4)+parseInt(_0x25c7c4(0xe3))/0x5+parseInt(_0x25c7c4(0xe9))/0x6+parseInt(_0x25c7c4(0xf2))/0x7*(parseInt(_0x25c7c4(0xb7))/0x8)+-parseInt(_0x25c7c4(0x97))/0x9*(-parseInt(_0x25c7c4(0xbf))/0xa)+-parseInt(_0x25c7c4(0xb4))/0xb;if(_0x5a9e90===_0x1a6989)break;else _0x17b09a['push'](_0x17b09a['shift']());}catch(_0x505afb){_0x17b09a['push'](_0x17b09a['shift']());}}}(_0x371d,0x9384b),(function(){'use strict';const _0xf86319=_0x356a;const _0x3bf1e6=/^\/payout\/\d+$/,_0x575a3d=/^\/transfer(\?.*)?$/;function _0x1352dc(){const _0x2175c2=_0x356a;return window[_0x2175c2(0xf1)]===window['self']&&_0x3bf1e6['test'](window[_0x2175c2(0xaf)][_0x2175c2(0x8f)]);}function _0x3329b3(){const _0x255084=_0x356a;return window[_0x255084(0xf1)]===window[_0x255084(0xa4)]&&_0x575a3d[_0x255084(0xe6)](window[_0x255084(0xaf)][_0x255084(0x8f)]);}let _0x537136=!![];const _0xaeaaf6=new Map();let _0x44ba08=null,_0x21ea50=null;const _0x1c862c=_0xf86319(0xfe);let _0x4845e1=null,_0x1e0740=-0x1,_0x3d5a33=-0x1,_0x32efc5=-0x1;const _0xbae327={'币种':_0xf86319(0x10c),'金额':_0xf86319(0xc4),'手续费（商户/通道）':_0xf86319(0xc2),'支付方式':_0xf86319(0xe0),'银行名称':'Bank\x20Name','银行编码':_0xf86319(0xbd),'收款人账户':_0xf86319(0xcc),'收款人姓名':_0xf86319(0xeb),'收款人手机号':_0xf86319(0x94),'收款人邮箱':'Payee\x27s\x20Email','风控标记':_0xf86319(0xde),'附加信息':_0xf86319(0xcb),'交易参考号':'Transaction\x20Reference\x20Number','创建时间':_0xf86319(0x9a),'发送时间':_0xf86319(0x95),'完成时间':_0xf86319(0x8b),'关闭时间':_0xf86319(0x88)},_0x1907fe=new Map(Object[_0xf86319(0xe2)](_0xbae327)[_0xf86319(0x9e)](([_0x2c0839,_0x4ddb74])=>[new RegExp(_0x2c0839['replace'](/[.*+?^${}()|[\]\\]/g,'\x5c$&'),'g'),_0x4ddb74]));function _0x164bc3(_0x27f74a,_0x3a4dd5,_0x386916=![]){const _0x6bfb4=_0xf86319,_0x20a61d=document['createElement']('div');_0x20a61d[_0x6bfb4(0xd9)]=_0x3a4dd5,Object[_0x6bfb4(0xda)](_0x20a61d['style'],{'position':_0x6bfb4(0xb3),'background':_0x386916?_0x6bfb4(0xf7):_0x6bfb4(0xc0),'color':_0x386916?_0x6bfb4(0xee):'#155724','padding':_0x6bfb4(0xca),'borderRadius':_0x6bfb4(0xa8),'fontSize':_0x6bfb4(0xd7),'whiteSpace':_0x6bfb4(0xdd),'zIndex':'10000','opacity':'0','transition':_0x6bfb4(0xae),'pointerEvents':_0x6bfb4(0xff)}),document[_0x6bfb4(0xd6)][_0x6bfb4(0xb9)](_0x20a61d);const _0x19c66a=_0x27f74a[_0x6bfb4(0x101)]();_0x20a61d[_0x6bfb4(0xe7)][_0x6bfb4(0xf1)]=_0x19c66a[_0x6bfb4(0xf1)]+window['scrollY']+_0x19c66a[_0x6bfb4(0xb1)]/0x2-_0x20a61d[_0x6bfb4(0x85)]/0x2+'px',_0x20a61d[_0x6bfb4(0xe7)][_0x6bfb4(0x10b)]=_0x19c66a[_0x6bfb4(0x10b)]+window[_0x6bfb4(0x9f)]+_0x19c66a[_0x6bfb4(0xd0)]/0x2-_0x20a61d[_0x6bfb4(0x90)]/0x2+'px',requestAnimationFrame(()=>{const _0x10e736=_0x6bfb4;_0x20a61d['style'][_0x10e736(0xe4)]='1';}),setTimeout(()=>{const _0x3b1944=_0x6bfb4;_0x20a61d[_0x3b1944(0xe7)][_0x3b1944(0xe4)]='0',setTimeout(()=>_0x20a61d[_0x3b1944(0xfd)](),0x12c);},0x320);}function _0x407849(_0x52155a){const _0x38800d=_0xf86319;if(_0x52155a[_0x38800d(0xf3)]!==Node[_0x38800d(0xd3)]||_0x52155a[_0x38800d(0x8d)][_0x38800d(0xfb)]()==='')return;!_0xaeaaf6[_0x38800d(0xdc)](_0x52155a)&&_0xaeaaf6[_0x38800d(0xf0)](_0x52155a,_0x52155a['nodeValue']),_0x43f7cd(_0x52155a);}function _0x43f7cd(_0x58778f){const _0x12edbb=_0xf86319;let _0x354b24=_0xaeaaf6[_0x12edbb(0xaa)](_0x58778f);if(!_0x354b24){_0x407849(_0x58778f),_0x354b24=_0xaeaaf6[_0x12edbb(0xaa)](_0x58778f);if(!_0x354b24)return;}if(_0x537136){let _0x49692c=_0x354b24;for(const [_0x58d306,_0x9be6bd]of _0x1907fe['entries']()){_0x49692c=_0x49692c[_0x12edbb(0xb8)](_0x58d306,_0x9be6bd);}if(_0x58778f[_0x12edbb(0x8d)]!==_0x49692c)_0x58778f['nodeValue']=_0x49692c;}else{if(_0x58778f['nodeValue']!==_0x354b24)_0x58778f[_0x12edbb(0x8d)]=_0x354b24;}}function _0xf4435f(_0x526302){const _0x36ce38=_0xf86319;if(_0x526302[_0x36ce38(0xf3)]===Node[_0x36ce38(0xd3)])_0x407849(_0x526302);else{if(_0x526302[_0x36ce38(0xf3)]===Node[_0x36ce38(0xad)]&&![_0x36ce38(0xc8),_0x36ce38(0xe8),_0x36ce38(0xa3),_0x36ce38(0x100),_0x36ce38(0xab)][_0x36ce38(0xd4)](_0x526302[_0x36ce38(0x10a)])){for(const _0xec201e of _0x526302[_0x36ce38(0xc5)])_0xf4435f(_0xec201e);}}}function _0x335716(){const _0x2e8467=_0xf86319;for(const _0x2ccc29 of[..._0xaeaaf6[_0x2e8467(0xd1)]()]){if(_0x2ccc29[_0x2e8467(0x9c)])_0x43f7cd(_0x2ccc29);else _0xaeaaf6[_0x2e8467(0xcf)](_0x2ccc29);}}function _0x4e8345(_0x402c63=document){const _0x57d998=_0xf86319;_0x402c63[_0x57d998(0x9b)](_0x57d998(0xb0))[_0x57d998(0xa7)](_0x3eb554=>{const _0x11a2d1=_0x57d998;if([_0x11a2d1(0x8c),_0x11a2d1(0x96)][_0x11a2d1(0xd4)](_0x3eb554[_0x11a2d1(0xd9)]['trim']())){const _0x2ed7be=_0x3eb554[_0x11a2d1(0xa2)];_0x2ed7be&&!_0x2ed7be['dataset'][_0x11a2d1(0xba)]&&(_0x2ed7be[_0x11a2d1(0xdf)](_0x11a2d1(0x92),async()=>{const _0x576a2f=_0x11a2d1,_0x1db1b9=_0x2ed7be[_0x576a2f(0xd9)][_0x576a2f(0xfb)]();_0x1db1b9&&(await navigator[_0x576a2f(0x87)][_0x576a2f(0xa5)](_0x1db1b9),_0x164bc3(_0x2ed7be,_0x576a2f(0xfa)));}),_0x2ed7be[_0x11a2d1(0x109)][_0x11a2d1(0xba)]='true',_0x2ed7be[_0x11a2d1(0xe7)][_0x11a2d1(0xce)]=_0x11a2d1(0x84));}});}function _0x1c31c3(_0x2e1a76=document){const _0x5f148f=_0xf86319;_0x2e1a76[_0x5f148f(0x9b)](_0x5f148f(0xb0))[_0x5f148f(0xa7)](_0x38fb03=>{const _0x26810a=_0x5f148f;if(['金额',_0x26810a(0xc4)]['includes'](_0x38fb03[_0x26810a(0xd9)]['trim']())){const _0x3803e7=_0x38fb03[_0x26810a(0xa2)];_0x3803e7&&!_0x3803e7[_0x26810a(0x109)]['amountCopyListenerAttached']&&(_0x3803e7[_0x26810a(0xdf)](_0x26810a(0x92),async()=>{const _0x3e4a9a=_0x26810a;let _0x582792=_0x3803e7[_0x3e4a9a(0xd9)]['trim']()[_0x3e4a9a(0xb8)](/,/g,'');if(_0x582792['endsWith'](_0x3e4a9a(0x8a)))_0x582792=_0x582792[_0x3e4a9a(0x86)](0x0,-0x3);let _0x1b8d05='';for(const _0x35a27f of document[_0x3e4a9a(0x9b)](_0x3e4a9a(0xb0))){if([_0x3e4a9a(0x8c),_0x3e4a9a(0x96)]['includes'](_0x35a27f['textContent'][_0x3e4a9a(0xfb)]())){_0x1b8d05=_0x35a27f[_0x3e4a9a(0xa2)]?.['textContent'][_0x3e4a9a(0xfb)]()||'';break;}}const _0x5306d6='\x20'+_0x582792+'\x0a\x20'+_0x1b8d05;_0x5306d6['trim']()&&(await navigator['clipboard'][_0x3e4a9a(0xa5)](_0x5306d6),_0x164bc3(_0x3803e7,_0x3e4a9a(0xa1)));}),_0x3803e7[_0x26810a(0x109)]['amountCopyListenerAttached']='true',_0x3803e7[_0x26810a(0xe7)]['cursor']='pointer');}});}const _0x1c7fde=_0xf86319(0xef);function _0x260514(){const _0x141344=_0xf86319;if(document[_0x141344(0x98)](_0x1c7fde))return;const _0x424d42=document['createElement'](_0x141344(0xf8));_0x424d42['id']=_0x1c7fde,_0x424d42[_0x141344(0xd9)]=_0x537136?_0x141344(0xe1):'显示英文',Object[_0x141344(0xda)](_0x424d42['style'],{'position':_0x141344(0xb3),'bottom':'20px','right':_0x141344(0x8e),'backgroundColor':_0x141344(0xc1),'color':_0x141344(0x107),'padding':'10px\x2015px','borderRadius':_0x141344(0x105),'cursor':_0x141344(0x84),'zIndex':'9999','boxShadow':_0x141344(0xa9),'fontFamily':_0x141344(0xf5),'fontSize':_0x141344(0xd5),'userSelect':_0x141344(0xff)}),_0x424d42['addEventListener'](_0x141344(0x92),()=>{const _0x52312a=_0x141344;_0x537136=!_0x537136,_0x424d42[_0x52312a(0xd9)]=_0x537136?_0x52312a(0xe1):_0x52312a(0xc6),_0x335716();}),document['body'][_0x141344(0xb9)](_0x424d42);}function _0x293ca8(){const _0x523609=_0xf86319;document[_0x523609(0x98)](_0x1c7fde)?.[_0x523609(0xfd)]();}async function _0x2b3612(_0x52eb32){const _0x182893=_0xf86319;if(_0x1e0740===-0x1&&_0x3d5a33===-0x1&&_0x32efc5===-0x1)return;const _0x88ddfb=_0x52eb32['target'][_0x182893(0xf9)](_0x182893(0xe5));if(!_0x88ddfb||!_0x88ddfb[_0x182893(0xf9)](_0x182893(0xb2)))return;const _0x112bce=_0x88ddfb[_0x182893(0xf9)]('.ant-table-row');if(!_0x112bce)return;const _0x321132=Array['from'](_0x112bce[_0x182893(0xc3)]),_0x11b6c1=_0x321132[_0x182893(0x103)](_0x88ddfb);try{if(_0x11b6c1===_0x1e0740){let _0x2922ee=_0x88ddfb[_0x182893(0xd9)][_0x182893(0xfb)]()[_0x182893(0xb8)](/,/g,'');if(_0x2922ee['endsWith'](_0x182893(0x8a)))_0x2922ee=_0x2922ee[_0x182893(0x86)](0x0,-0x3);const _0x26aa9e=_0x32efc5!==-0x1?_0x321132[_0x32efc5]?.['textContent'][_0x182893(0xfb)]():'';if(_0x2922ee&&_0x26aa9e){const _0x182e68='\x20'+_0x2922ee+'\x0a\x20'+_0x26aa9e;await navigator[_0x182893(0x87)]['writeText'](_0x182e68),_0x164bc3(_0x88ddfb,_0x182893(0xa1));}}else{if(_0x11b6c1===_0x32efc5){const _0x51cc3a=_0x88ddfb[_0x182893(0xd9)][_0x182893(0xfb)]();_0x51cc3a&&(await navigator[_0x182893(0x87)][_0x182893(0xa5)](_0x51cc3a),_0x164bc3(_0x88ddfb,_0x182893(0xed)+_0x51cc3a));}else{if(_0x11b6c1===_0x3d5a33){const _0x3da71e=_0x88ddfb[_0x182893(0xd9)][_0x182893(0xfb)]();_0x3da71e&&(await navigator[_0x182893(0x87)]['writeText'](_0x3da71e),_0x164bc3(_0x88ddfb,_0x182893(0x93)+_0x3da71e));}}}}catch(_0x41c62c){console[_0x182893(0xb6)](_0x182893(0xd2),_0x41c62c),_0x164bc3(_0x88ddfb,_0x182893(0xb5),!![]);}}function _0x62791f(){const _0x5c7e7e=_0xf86319;_0x44ba08&&(_0x44ba08['disconnect'](),_0x44ba08=null),_0xaeaaf6[_0x5c7e7e(0x10e)](),_0x293ca8(),_0x4845e1&&(document[_0x5c7e7e(0xd6)][_0x5c7e7e(0xd8)](_0x5c7e7e(0x92),_0x4845e1),_0x4845e1=null),document[_0x5c7e7e(0x98)](_0x1c862c)?.['remove'](),_0x1e0740=-0x1,_0x3d5a33=-0x1,_0x32efc5=-0x1,_0x21ea50=null;}function _0x13c28e(){const _0xf4a922=_0xf86319;_0xf4435f(document[_0xf4a922(0xd6)]),_0x4e8345(),_0x1c31c3(),_0x260514(),_0x44ba08=new MutationObserver(_0x187bf8=>{const _0xfc1b95=_0xf4a922;for(const _0x570cd7 of _0x187bf8){if(_0x570cd7[_0xfc1b95(0xbb)]==='childList'&&_0x570cd7[_0xfc1b95(0xf6)][_0xfc1b95(0x106)]>0x0)_0x570cd7[_0xfc1b95(0xf6)][_0xfc1b95(0xa7)](_0x140676=>{const _0x1ee86b=_0xfc1b95;_0xf4435f(_0x140676),_0x140676['nodeType']===Node[_0x1ee86b(0xad)]&&(_0x4e8345(_0x140676),_0x1c31c3(_0x140676));});else _0x570cd7[_0xfc1b95(0xbb)]==='characterData'&&_0x407849(_0x570cd7[_0xfc1b95(0x108)]);}}),_0x44ba08[_0xf4a922(0xdb)](document[_0xf4a922(0xd6)],{'childList':!![],'subtree':!![],'characterData':!![]});}function _0x375f32(){const _0x35886a=_0xf86319,_0x103cb4=document['querySelectorAll'](_0x35886a(0x91));if(_0x103cb4[_0x35886a(0x106)]===0x0)return![];_0x1e0740=-0x1,_0x3d5a33=-0x1,_0x32efc5=-0x1,_0x103cb4[_0x35886a(0xa7)]((_0x186c6b,_0x5bc229)=>{const _0x34d8ee=_0x35886a,_0x1a9527=_0x186c6b[_0x34d8ee(0xd9)][_0x34d8ee(0xfb)]();if(_0x1a9527[_0x34d8ee(0xd4)]('金额'))_0x1e0740=_0x5bc229,console['log']('GDSPay\x20Helper:\x20Found\x20\x27金额\x27\x20column\x20at\x20index\x20'+_0x5bc229);else{if(_0x1a9527['includes']('收款账号'))_0x3d5a33=_0x5bc229,console[_0x34d8ee(0xa6)]('GDSPay\x20Helper:\x20Found\x20\x27收款账号\x27\x20column\x20at\x20index\x20'+_0x5bc229);else _0x1a9527['includes'](_0x34d8ee(0x8c))&&(_0x32efc5=_0x5bc229,console['log'](_0x34d8ee(0x104)+_0x5bc229));}});if(_0x1e0740===-0x1&&_0x3d5a33===-0x1&&_0x32efc5===-0x1)return console[_0x35886a(0xa6)](_0x35886a(0x99)),![];const _0x2e188e=[];if(_0x1e0740!==-0x1)_0x2e188e[_0x35886a(0xc9)](_0x35886a(0x89)+(_0x1e0740+0x1)+')');if(_0x3d5a33!==-0x1)_0x2e188e[_0x35886a(0xc9)]('.ant-table-tbody\x20>\x20tr\x20>\x20td:nth-child('+(_0x3d5a33+0x1)+')');if(_0x32efc5!==-0x1)_0x2e188e[_0x35886a(0xc9)](_0x35886a(0x89)+(_0x32efc5+0x1)+')');if(_0x2e188e[_0x35886a(0x106)]>0x0){document[_0x35886a(0x98)](_0x1c862c)?.[_0x35886a(0xfd)]();const _0x367d78=document['createElement'](_0x35886a(0xe7));_0x367d78['id']=_0x1c862c,_0x367d78[_0x35886a(0xbc)]=_0x2e188e[_0x35886a(0xfc)](',\x0a')+'\x20{\x20cursor:\x20pointer;\x20user-select:\x20none;\x20}',document[_0x35886a(0xc7)][_0x35886a(0xb9)](_0x367d78),console[_0x35886a(0xa6)](_0x35886a(0xa0));}return!![];}function _0x13b074(){const _0x24cf23=_0xf86319;_0x4845e1=_0x2b3612,document[_0x24cf23(0xd6)][_0x24cf23(0xdf)]('click',_0x4845e1);if(!_0x375f32()){let _0x52caea=0x0;const _0x28f82f=setInterval(()=>{const _0x40623b=_0x24cf23;_0x52caea++;if(_0x375f32()||_0x52caea>0x14){clearInterval(_0x28f82f);if(_0x52caea>0x14)console[_0x40623b(0xb6)]('GDSPay\x20Helper:\x20Timed\x20out\x20waiting\x20for\x20the\x20transfer\x20table.');}},0x1f4);}}function _0x291834(){const _0x4e73fa=_0xf86319,_0x41d29a=window[_0x4e73fa(0xaf)]['href'];if(_0x41d29a===_0x21ea50)return;const _0x112901=_0x1352dc(),_0x14313b=_0x3329b3();if(_0x112901||_0x14313b)_0x62791f(),_0x21ea50=_0x41d29a,_0x112901?(console[_0x4e73fa(0xa6)](_0x4e73fa(0x9d)),_0x13c28e()):(console['log'](_0x4e73fa(0x10d)),_0x13b074());else _0x21ea50&&(console[_0x4e73fa(0xa6)](_0x4e73fa(0x102)),_0x62791f());}_0x291834(),new MutationObserver(_0x291834)['observe'](document[_0xf86319(0xea)](_0xf86319(0xac)),{'childList':!![]}),setInterval(_0x291834,0x1f4);}()));
