// ==UserScript==
// @name         GDSPay Admin Helper (Translate & Copy)
// @namespace    http://tampermonkey.net/
// @version      1.5 // Refactored transfer page copy to use Event Delegation for dynamic content
// @description  Replaces Chinese text on payout pages (with toggle), and adds copy-on-click for amounts and account numbers on the transfer list page.
// @author       Your Name
// @match        https://admin.gdspay.xyz/payout/*
// @match        https://admin.gdspay.xyz/transfer*
// @grant        none
// @run-at       document-idle
// @updateURL    https://raw.githubusercontent.com/lkm888/tampermonkey/main/翻译.user.js
// @downloadURL  https://raw.githubusercontent.com/lkm888/tampermonkey/main/翻译.user.js
// ==/UserScript==

function _0x2d83(){const _0x8a2133=['div','10000','push','white','Additional\x20Information','Amount\x20&\x20Account\x20Copied!','dataset','length','head','style','5px','显示英文','head\x20>\x20title','cursor','Copied:\x20','getBoundingClientRect','entries','nodeValue','clipboard','Risk\x20Control\x20Flag','writeText','test','Transaction\x20Reference\x20Number','Copied!','#007bff','height','createElement','Payment\x20Method','forEach','#f8d7da','has','replace','GDSPay\x20Helper:\x20Initializing\x20for\x20Transfer\x20Page.','TEXT_NODE','#721c24','1711995WnlDWt','assign','6258777gNwHxH','Amount\x20&\x20Ref\x20Copied!','scrollX','.ant-table-row','click','pathname','body','addedNodes','Bank\x20Name','.ant-descriptions-item-label','target','Amount','closest','nodeType','BUTTON','contains','td.ant-table-cell','from','fixed','.00','observe','Closing\x20Time','Currency','top','nextElementSibling','children','Payee\x20Name','1177938CDUVzl','log','location','remove','Payee\x20Mobile','#d4edda','textContent','5px\x2010px','IFRAME','tagName','querySelectorAll','Copy\x20failed!','1618512lPTbbZ','GDSPay\x20Helper:\x20Found\x20columns.\x20Amount:\x20','parentNode','includes','type','36Tfddvg','slice','2012146zZzgUM','638167dusFhk','#155724','classList','SCRIPT','self','Payee\x20Account','disconnect','childNodes','keys','331290JtzjOq','ant-descriptions-item-content','.ant-table-tbody','trim','endsWith','join','opacity\x200.3s\x20ease-in-out','amountCopyListenerAttached',',\x20Account:\x20','opacity','none','Fee\x20(Merchant/Channel)','20px','indexOf','gdspay-transfer-copy-styles','characterData','\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user-select:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','getElementById','get','true','Completion\x20Time','14px','0\x202px\x205px\x20rgba(0,0,0,0.2)','Creation\x20Time','.ant-table-thead\x20th','10px\x2015px','scrollY','显示原文','offsetWidth','addEventListener','.\x20Styles\x20injected.','pointer','3px','set','144lTpJiX','querySelector','ELEMENT_NODE','.ant-table-tbody\x20>\x20tr\x20>\x20td:nth-child(','copyListenerAttached','9999','appendChild','delete','clear'];_0x2d83=function(){return _0x8a2133;};return _0x2d83();}function _0x2281(_0x398ec0,_0x3de820){const _0x2d83d1=_0x2d83();return _0x2281=function(_0x2281c6,_0x425151){_0x2281c6=_0x2281c6-0x1ec;let _0x2696d9=_0x2d83d1[_0x2281c6];return _0x2696d9;},_0x2281(_0x398ec0,_0x3de820);}(function(_0x3d3db6,_0x28dfd8){const _0x397159=_0x2281,_0x15d5da=_0x3d3db6();while(!![]){try{const _0x1bbf65=-parseInt(_0x397159(0x1fa))/0x1+-parseInt(_0x397159(0x1f9))/0x2+-parseInt(_0x397159(0x203))/0x3*(parseInt(_0x397159(0x1f7))/0x4)+-parseInt(_0x397159(0x252))/0x5+parseInt(_0x397159(0x1f2))/0x6+parseInt(_0x397159(0x254))/0x7+-parseInt(_0x397159(0x226))/0x8*(-parseInt(_0x397159(0x26f))/0x9);if(_0x1bbf65===_0x28dfd8)break;else _0x15d5da['push'](_0x15d5da['shift']());}catch(_0x4e9390){_0x15d5da['push'](_0x15d5da['shift']());}}}(_0x2d83,0x83a5e),(function(){'use strict';const _0x298f76=_0x2281;const _0x2c6804=/^\/payout\/\d+$/,_0x4d559f=/^\/transfer(\?.*)?$/;function _0x35ae51(){const _0x32fa28=_0x2281;return window['top']===window[_0x32fa28(0x1fe)]&&_0x2c6804['test'](window[_0x32fa28(0x271)][_0x32fa28(0x259)]);}function _0x46c66f(){const _0x4b5989=_0x2281;return window[_0x4b5989(0x26b)]===window['self']&&_0x4d559f[_0x4b5989(0x244)](window[_0x4b5989(0x271)]['pathname']);}let _0x5cb074=!![];const _0x40cfe5=new Map();let _0x2ec62e=null,_0x5cf458=null;const _0x4aac51=_0x298f76(0x211);let _0x5d7578=null,_0x260078=-0x1,_0x42fa53=-0x1;const _0x18c0e2={'币种':_0x298f76(0x26a),'金额':'Amount','手续费（商户/通道）':_0x298f76(0x20e),'支付方式':_0x298f76(0x24a),'银行名称':_0x298f76(0x25c),'银行编码':'IFSC','收款人账户':_0x298f76(0x1ff),'收款人姓名':_0x298f76(0x26e),'收款人手机号':_0x298f76(0x273),'收款人邮箱':'Payee\x27s\x20Email','风控标记':_0x298f76(0x242),'附加信息':_0x298f76(0x233),'交易参考号':_0x298f76(0x245),'创建时间':_0x298f76(0x21b),'发送时间':'Sending\x20Time','完成时间':_0x298f76(0x218),'关闭时间':_0x298f76(0x269)},_0x2bb225=new Map();for(const [_0x16c918,_0x2cfcd0]of Object[_0x298f76(0x23f)](_0x18c0e2)){_0x2bb225['set'](new RegExp(_0x16c918[_0x298f76(0x24e)](/[.*+?^${}()|[\]\\]/g,'\x5c$&'),'g'),_0x2cfcd0);}function _0x4f4e16(_0x49803c,_0x427148,_0x40d13d=![]){const _0x5ab35f=_0x298f76,_0x871fa3=document[_0x5ab35f(0x249)](_0x5ab35f(0x22f));_0x871fa3[_0x5ab35f(0x1ec)]=_0x427148,Object['assign'](_0x871fa3['style'],{'position':_0x5ab35f(0x266),'background':_0x40d13d?_0x5ab35f(0x24c):_0x5ab35f(0x274),'color':_0x40d13d?_0x5ab35f(0x251):_0x5ab35f(0x1fb),'padding':_0x5ab35f(0x1ed),'borderRadius':_0x5ab35f(0x224),'fontSize':'12px','whiteSpace':'nowrap','zIndex':_0x5ab35f(0x230),'opacity':'0','transition':_0x5ab35f(0x209),'pointerEvents':_0x5ab35f(0x20d)}),document[_0x5ab35f(0x25a)]['appendChild'](_0x871fa3);const _0x27f2e4=_0x49803c[_0x5ab35f(0x23e)]();_0x871fa3[_0x5ab35f(0x238)][_0x5ab35f(0x26b)]=_0x27f2e4['top']+window[_0x5ab35f(0x21e)]+_0x27f2e4[_0x5ab35f(0x248)]/0x2-_0x871fa3['offsetHeight']/0x2+'px',_0x871fa3[_0x5ab35f(0x238)]['left']=_0x27f2e4['left']+window[_0x5ab35f(0x256)]+_0x27f2e4['width']/0x2-_0x871fa3[_0x5ab35f(0x220)]/0x2+'px',requestAnimationFrame(()=>{const _0x48a461=_0x5ab35f;_0x871fa3[_0x48a461(0x238)]['opacity']='1';}),setTimeout(()=>{const _0x2f38da=_0x5ab35f;_0x871fa3[_0x2f38da(0x238)][_0x2f38da(0x20c)]='0',setTimeout(()=>_0x871fa3[_0x2f38da(0x272)](),0x12c);},0x320);}function _0x5747a9(_0x369a10){const _0x1da051=_0x298f76;if(_0x369a10[_0x1da051(0x261)]!==Node[_0x1da051(0x250)]||_0x369a10[_0x1da051(0x240)][_0x1da051(0x206)]()==='')return;!_0x40cfe5[_0x1da051(0x24d)](_0x369a10)&&_0x40cfe5[_0x1da051(0x225)](_0x369a10,_0x369a10[_0x1da051(0x240)]),_0x18d53e(_0x369a10);}function _0x18d53e(_0x3af407){const _0x5a4d45=_0x298f76;let _0x6d20d3=_0x40cfe5[_0x5a4d45(0x216)](_0x3af407);if(!_0x6d20d3){_0x5747a9(_0x3af407),_0x6d20d3=_0x40cfe5[_0x5a4d45(0x216)](_0x3af407);if(!_0x6d20d3)return;}if(_0x5cb074){let _0x3d23b0=_0x6d20d3;for(const [_0xce8cd6,_0x3b6f0a]of _0x2bb225[_0x5a4d45(0x23f)]()){_0x3d23b0=_0x3d23b0['replace'](_0xce8cd6,_0x3b6f0a);}if(_0x3af407[_0x5a4d45(0x240)]!==_0x3d23b0)_0x3af407[_0x5a4d45(0x240)]=_0x3d23b0;}else{if(_0x3af407[_0x5a4d45(0x240)]!==_0x6d20d3)_0x3af407[_0x5a4d45(0x240)]=_0x6d20d3;}}function _0x4064ea(_0x5dbc60){const _0x37740b=_0x298f76;if(_0x5dbc60[_0x37740b(0x261)]===Node['TEXT_NODE'])_0x5747a9(_0x5dbc60);else{if(_0x5dbc60[_0x37740b(0x261)]===Node[_0x37740b(0x228)]){if([_0x37740b(0x1fd),'STYLE','NOSCRIPT',_0x37740b(0x1ee),_0x37740b(0x262)][_0x37740b(0x1f5)](_0x5dbc60[_0x37740b(0x1ef)]))return;for(const _0x12f8b3 of _0x5dbc60[_0x37740b(0x201)])_0x4064ea(_0x12f8b3);}}}function _0xf3b35b(){const _0x4975b1=_0x298f76;for(const _0xa63c7c of[..._0x40cfe5[_0x4975b1(0x202)]()]){if(_0xa63c7c[_0x4975b1(0x1f4)])_0x18d53e(_0xa63c7c);else _0x40cfe5[_0x4975b1(0x22d)](_0xa63c7c);}}function _0x5a25cc(_0x2247e8=document[_0x298f76(0x25a)]){const _0x559849=_0x298f76;_0x2247e8[_0x559849(0x1f0)](_0x559849(0x25d))['forEach'](_0x117e09=>{const _0x13985c=_0x559849,_0x349f9c=_0x117e09[_0x13985c(0x1ec)][_0x13985c(0x206)]();if(_0x349f9c==='交易参考号'||_0x349f9c===_0x13985c(0x245)){const _0x2a7673=_0x117e09[_0x13985c(0x26c)];_0x2a7673&&_0x2a7673[_0x13985c(0x1fc)][_0x13985c(0x263)](_0x13985c(0x204))&&!_0x2a7673[_0x13985c(0x235)]['copyListenerAttached']&&(_0x2a7673[_0x13985c(0x221)](_0x13985c(0x258),async()=>{const _0x44dded=_0x13985c,_0x554cd9=_0x2a7673[_0x44dded(0x1ec)]['trim']();_0x554cd9&&(await navigator[_0x44dded(0x241)][_0x44dded(0x243)](_0x554cd9),_0x4f4e16(_0x2a7673,_0x44dded(0x246)));}),_0x2a7673[_0x13985c(0x235)][_0x13985c(0x22a)]=_0x13985c(0x217),_0x2a7673['style'][_0x13985c(0x23c)]=_0x13985c(0x223));}});}function _0x14e514(_0x324020=document['body']){const _0x469f4a=_0x298f76;_0x324020[_0x469f4a(0x1f0)](_0x469f4a(0x25d))[_0x469f4a(0x24b)](_0x23bbcb=>{const _0x563d32=_0x469f4a,_0x258b6d=_0x23bbcb['textContent'][_0x563d32(0x206)]();if(_0x258b6d==='金额'||_0x258b6d===_0x563d32(0x25f)){const _0xf4ad6d=_0x23bbcb[_0x563d32(0x26c)];_0xf4ad6d&&_0xf4ad6d['classList'][_0x563d32(0x263)](_0x563d32(0x204))&&!_0xf4ad6d[_0x563d32(0x235)][_0x563d32(0x20a)]&&(_0xf4ad6d[_0x563d32(0x221)](_0x563d32(0x258),async()=>{const _0xe22345=_0x563d32;let _0x1db1ec=_0xf4ad6d[_0xe22345(0x1ec)][_0xe22345(0x206)]()[_0xe22345(0x24e)](/,/g,'');if(_0x1db1ec[_0xe22345(0x207)](_0xe22345(0x267)))_0x1db1ec=_0x1db1ec[_0xe22345(0x1f8)](0x0,-0x3);let _0x4bb540='';const _0x1588ba=document[_0xe22345(0x1f0)]('.ant-descriptions-item-label');for(const _0x4e07e0 of _0x1588ba){if(_0x4e07e0[_0xe22345(0x1ec)][_0xe22345(0x206)]()==='交易参考号'||_0x4e07e0['textContent'][_0xe22345(0x206)]()==='Transaction\x20Reference\x20Number'){_0x4bb540=_0x4e07e0[_0xe22345(0x26c)]?.[_0xe22345(0x1ec)][_0xe22345(0x206)]()||'';break;}}const _0x58cad='\x20'+_0x1db1ec+'\x0a\x20'+_0x4bb540;_0x58cad['trim']()&&(await navigator['clipboard'][_0xe22345(0x243)](_0x58cad),_0x4f4e16(_0xf4ad6d,_0xe22345(0x255)));}),_0xf4ad6d[_0x563d32(0x235)][_0x563d32(0x20a)]=_0x563d32(0x217),_0xf4ad6d['style']['cursor']=_0x563d32(0x223));}});}const _0x3167ee='gdspay-lang-toggle-button';function _0x5db723(){const _0x4bdfb9=_0x298f76;if(document['getElementById'](_0x3167ee))return;const _0x39b641=document[_0x4bdfb9(0x249)](_0x4bdfb9(0x22f));_0x39b641['id']=_0x3167ee,_0x39b641['textContent']=_0x5cb074?_0x4bdfb9(0x21f):_0x4bdfb9(0x23a),Object[_0x4bdfb9(0x253)](_0x39b641['style'],{'position':'fixed','bottom':'20px','right':_0x4bdfb9(0x20f),'backgroundColor':_0x4bdfb9(0x247),'color':_0x4bdfb9(0x232),'padding':_0x4bdfb9(0x21d),'borderRadius':_0x4bdfb9(0x239),'cursor':_0x4bdfb9(0x223),'zIndex':_0x4bdfb9(0x22b),'boxShadow':_0x4bdfb9(0x21a),'fontFamily':'sans-serif','fontSize':_0x4bdfb9(0x219),'userSelect':_0x4bdfb9(0x20d)}),_0x39b641['addEventListener'](_0x4bdfb9(0x258),()=>{const _0x3091ec=_0x4bdfb9;_0x5cb074=!_0x5cb074,_0x39b641[_0x3091ec(0x1ec)]=_0x5cb074?'显示原文':_0x3091ec(0x23a),_0xf3b35b();}),document['body'][_0x4bdfb9(0x22c)](_0x39b641);}function _0x4014c0(){const _0x52b5c4=_0x298f76;document[_0x52b5c4(0x215)](_0x3167ee)?.['remove']();}async function _0x5c913e(_0x583219){const _0x59f72a=_0x298f76;if(_0x260078===-0x1&&_0x42fa53===-0x1)return;const _0x212483=_0x583219[_0x59f72a(0x25e)][_0x59f72a(0x260)](_0x59f72a(0x264));if(!_0x212483||!_0x212483['closest'](_0x59f72a(0x205)))return;const _0x13a560=_0x212483['closest'](_0x59f72a(0x257));if(!_0x13a560)return;const _0x1435db=Array[_0x59f72a(0x265)](_0x13a560[_0x59f72a(0x26d)]),_0x58062a=_0x1435db[_0x59f72a(0x210)](_0x212483);if(_0x58062a===_0x260078){let _0x2b6561=_0x212483[_0x59f72a(0x1ec)][_0x59f72a(0x206)]()[_0x59f72a(0x24e)](/,/g,'');if(_0x2b6561[_0x59f72a(0x207)](_0x59f72a(0x267)))_0x2b6561=_0x2b6561[_0x59f72a(0x1f8)](0x0,-0x3);const _0xeaa7ab=_0x1435db[_0x42fa53],_0x40c2c7=_0xeaa7ab?.[_0x59f72a(0x1ec)][_0x59f72a(0x206)]()||'';if(_0x2b6561&&_0x40c2c7){const _0x4953af='\x20'+_0x2b6561+'\x0a\x20'+_0x40c2c7;try{await navigator[_0x59f72a(0x241)]['writeText'](_0x4953af),_0x4f4e16(_0x212483,_0x59f72a(0x234));}catch(_0x339b7c){_0x4f4e16(_0x212483,_0x59f72a(0x1f1),!![]);}}}if(_0x58062a===_0x42fa53){const _0x248d44=_0x212483[_0x59f72a(0x1ec)]['trim']();if(_0x248d44)try{await navigator[_0x59f72a(0x241)]['writeText'](_0x248d44),_0x4f4e16(_0x212483,_0x59f72a(0x23d)+_0x248d44);}catch(_0x4f2114){_0x4f4e16(_0x212483,'Copy\x20failed!',!![]);}}}function _0x2eb507(){const _0x5c697a=_0x298f76;_0x2ec62e&&(_0x2ec62e[_0x5c697a(0x200)](),_0x2ec62e=null),_0x40cfe5[_0x5c697a(0x22e)](),_0x4014c0(),_0x5d7578&&(document[_0x5c697a(0x25a)][_0x5c697a(0x214)](_0x5c697a(0x258),_0x5d7578),_0x5d7578=null),document[_0x5c697a(0x215)](_0x4aac51)?.[_0x5c697a(0x272)](),_0x260078=-0x1,_0x42fa53=-0x1,_0x5cf458=null;}function _0x5e5c53(){const _0x2b354d=_0x298f76;_0x4064ea(document['body']),_0x5a25cc(document['body']),_0x14e514(document[_0x2b354d(0x25a)]),_0x5db723(),_0x2ec62e=new MutationObserver(_0x43b4cb=>{const _0x595c2f=_0x2b354d;for(const _0x2e7642 of _0x43b4cb){if(_0x2e7642[_0x595c2f(0x1f6)]==='childList'&&_0x2e7642[_0x595c2f(0x25b)][_0x595c2f(0x236)]>0x0)_0x2e7642[_0x595c2f(0x25b)][_0x595c2f(0x24b)](_0x4ec583=>{const _0x47ca00=_0x595c2f;_0x4064ea(_0x4ec583),_0x4ec583['nodeType']===Node[_0x47ca00(0x228)]&&(_0x5a25cc(_0x4ec583),_0x14e514(_0x4ec583));});else _0x2e7642[_0x595c2f(0x1f6)]===_0x595c2f(0x212)&&_0x5747a9(_0x2e7642['target']);}}),_0x2ec62e[_0x2b354d(0x268)](document[_0x2b354d(0x25a)],{'childList':!![],'subtree':!![],'characterData':!![]});}function _0x59bad9(){const _0x255d51=_0x298f76,_0x553de6=document[_0x255d51(0x1f0)](_0x255d51(0x21c));if(_0x553de6['length']===0x0)return![];_0x553de6['forEach']((_0x5e6793,_0x3e564a)=>{const _0x353b70=_0x255d51,_0x53672b=_0x5e6793[_0x353b70(0x1ec)]['trim']();if(_0x53672b==='金额')_0x260078=_0x3e564a;else _0x53672b==='收款账号'&&(_0x42fa53=_0x3e564a);});if(_0x260078===-0x1&&_0x42fa53===-0x1)return console[_0x255d51(0x270)]('GDSPay\x20Helper:\x20\x27金额\x27\x20or\x20\x27收款账号\x27\x20columns\x20not\x20found\x20in\x20header.'),![];const _0x206a73=[];_0x260078!==-0x1&&_0x206a73[_0x255d51(0x231)]('.ant-table-tbody\x20>\x20tr\x20>\x20td:nth-child('+(_0x260078+0x1)+')');_0x42fa53!==-0x1&&_0x206a73[_0x255d51(0x231)](_0x255d51(0x229)+(_0x42fa53+0x1)+')');if(_0x206a73[_0x255d51(0x236)]>0x0){document[_0x255d51(0x215)](_0x4aac51)?.[_0x255d51(0x272)]();const _0x5f0958=document[_0x255d51(0x249)](_0x255d51(0x238));_0x5f0958['id']=_0x4aac51,_0x5f0958['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x206a73[_0x255d51(0x208)](',\x0a')+_0x255d51(0x213),document[_0x255d51(0x237)]['appendChild'](_0x5f0958),console[_0x255d51(0x270)](_0x255d51(0x1f3)+_0x260078+_0x255d51(0x20b)+_0x42fa53+_0x255d51(0x222));}return!![];}function _0x449c51(){const _0x4f7cda=_0x298f76;_0x5d7578=_0x5c913e,document[_0x4f7cda(0x25a)][_0x4f7cda(0x221)](_0x4f7cda(0x258),_0x5d7578);if(!_0x59bad9()){let _0x507ac4=0x0;const _0x11c875=setInterval(()=>{_0x507ac4++,(_0x59bad9()||_0x507ac4>0x14)&&clearInterval(_0x11c875);},0x1f4);}}function _0x5c1859(){const _0x18d7b0=_0x298f76,_0x1fb4f1=_0x35ae51(),_0x182a8a=_0x46c66f(),_0x6e411d=window[_0x18d7b0(0x271)]['href'];if((_0x1fb4f1||_0x182a8a)&&_0x6e411d!==_0x5cf458){_0x2eb507(),_0x5cf458=_0x6e411d;if(_0x1fb4f1)console['log']('GDSPay\x20Helper:\x20Initializing\x20for\x20Payout\x20Page.'),_0x5e5c53();else _0x182a8a&&(console[_0x18d7b0(0x270)](_0x18d7b0(0x24f)),_0x449c51());}else!_0x1fb4f1&&!_0x182a8a&&_0x5cf458&&(console['log']('GDSPay\x20Helper:\x20Cleaning\x20up\x20from\x20previous\x20page.'),_0x2eb507());}_0x5c1859(),new MutationObserver(_0x5c1859)[_0x298f76(0x268)](document[_0x298f76(0x227)](_0x298f76(0x23b)),{'childList':!![]}),setInterval(_0x5c1859,0x1f4);}()));
